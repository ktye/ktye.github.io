/rigid rotor properties

/same inputs
/per shaft element: L D d E rho
/per node:          m J Q cx cy U

/output:            M Z j q nx ny (all scalar, except nx ny: 1st/2nd critical speed per direction)

M:(+/m)++/ms:.25p*rho*L*(D*D)-d*d  /M(total mass) ms(shaft element mass)
Z:((+/ms*s)++/m*z)%M               /center of mass
z:(0,+\L;s:(+\L)-0.5*L)-Z          /node and shaft(center) positions, from com
j:J++/.125*ms*dd:(D*D)+d*d         /moments of inertia j(around rotation axis) 
q:Q++/ ms*(zs*zs)+(.75*dd)*L*L)%12 /                   q(perpendicular)

/bearing criticals
/ máº++/ci*xi   =0  x:displacement at center of mass, xi:at spring positions zi, xi:x+zi*Ï†
/ JÏ†++/zi*ci*xi=0  Ï†(with dots). ğœˆ:%J/m radius of inertia, let y:Ï†ğœˆ to get rid of rotations
/ â†’ğœˆmÃ¿+(+/zi*ci*x)++/ziÂ²*ci*y%ğœˆ=0
/
/ áº + (c0    c1%ğœˆ )(x) = 0    with c0:+/xi; c1:+/xi*zi; c2:+/xi*ziÂ²
/ Ã¿ + (c1%ğœˆ  v2%ğœˆÂ²)(y) = 0
/ matrix A:(a b;b d)
/ critical frequencies are the sqrts of the eigenvalues of A
/ eigs:meanÂ±%meanÂ²-det, mean:0.5*a+d; det:(a*d)-bÂ²
crit:{[m;J;c;z];c%:m;v:%m/J;a:+/c;b:v*+/c*z;d:(v*v)*+/c*z*z;me:.5*a+b;(30%pi)*%(me+s;me-s:%(me*me)-(a*d)+b*b)}

nx:crit[M;j;cx;z]
ny:crit[M;j;cy;z]
