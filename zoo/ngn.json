{"0.c":["// ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#include\"a.h\"","#include\u003cstdarg.h\u003e","#include\u003cstdio.h\u003e","#include\u003cfcntl.h\u003e","#include\u003cerrno.h\u003e","#include\u003csys/socket.h\u003e","#include\u003csys/types.h\u003e","#include\u003csys/wait.h\u003e","#include\u003cnetinet/in.h\u003e","#include\u003cnetinet/tcp.h\u003e","#include\u003carpa/inet.h\u003e","#include\u003cunistd.h\u003e","#include\u003csys/time.h\u003e","#undef __USE_EXTERN_INLINES","#include\u003csys/stat.h\u003e","","//__builtin_ia32_ldmxcsr(__builtin_ia32_stmxcsr()|1\u003c\u003c6|1\u003c\u003c15); //daz,ftz","I main(In,Q*a)_(kinit();kargs(n,a);I r=0;I(n\u003c2,repl())J(!bsl(a[1]),r=1;epr(0))Q(bsm(\"\"));r)","","//_start()","#if defined(libc)||defined(wasm)"," ;","#elif defined(__OpenBSD__)||defined(__FreeBSD__)"," V _start(Q*a){exit(main(*(I*)(V*)a,a+1));}","#elif defined(i386)"," asm(\".globl _start;_start:pop %eax;push %esp;push %eax;call main;jmp exit\");","#else"," asm(\".globl _start;_start:pop %rdi;mov %rsp,%rsi;and $-16,%rsp;call main;mov %rax,%rdi;jmp exit\");","#endif","","//syscall helper macros","#if !defined(libc)\u0026\u0026!defined(wasm)"," #include\u003csys/syscall.h\u003e"," #if defined(i386)","  #define  h(x,a...) \".globl \"#x\";\"#x\":\"a\"mov $\"M2(SYS_##x)\",%eax;int $0x80;ret;\"","  #define h1(x,a...)  h(x,a\"mov  4(%esp),%ebx;\")","  #define h2(x,a...) h1(x,a\"mov  8(%esp),%ecx;\")","  #define h3(x,a...) h2(x,a\"mov 12(%esp),%edx;\")","  #define h5(x)      \".globl \"#x\";\"#x\":mov %esp,%ebx;add $4,%ebx;mov $\"M2(SYS_##x)\",%eax;int $0x80;ret;\"","  #define h6 h5"," #else","  #define h(x,a...) \".globl \"#x\";\"#x\":\"a\"movq $\"M2(SYS_##x)\",%rax;syscall;ret;\"","  #define h1 h","  #define h2 h","  #define h3 h","  #define h4(x) h(x,\"movq %rcx,%r10;\")","  #define h5 h4","  #define h6 h4"," #endif","#endif","","//pipe()","#if defined(wasm)"," I pipe(Iv[2])_(-1)","#elif defined(libc)"," ;","#elif defined(__FreeBSD__)"," asm(h(pipe2));I pipe(Iv[2])_(pipe2(v,0))","#else"," asm(h(pipe));","#endif","","//directory iteration","#if defined(wasm)"," V dir(If,void(*d)(V*,Q),V*x){}","#elif defined(libc)"," #include\u003cdirent.h\u003e"," V dir(If,void(*d)(V*,Q),V*x){DIR*a=fdopendir(f);ST dirent*e;W((e=readdir(a)),d(x,e-\u003ed_name))closedir(a);} //thanks eightsixfivezero","#else"," #if defined(__FreeBSD__)","  #define SYS_getdents SYS_freebsd11_getdents","  TD ST{UI d_fileno;UH d_reclen;C d_type,d_namlen,d_name[255+1];}DE;"," #else","  TD ST{long d_ino;off_t d_off;UH d_reclen;C d_name[];}DE;"," #endif"," ssize_t getdents(I,C*,N);asm(h3(getdents));"," V dir(If,void(*d)(V*,Q),V*x){Cb[ZP];Ik;W((k=getdents(f,b,SZ b))\u003e0,Ii=0;W(i\u003ck,DE*e=(V*)b+i;Qs=e-\u003ed_name;d(x,s);i+=e-\u003ed_reclen))}","#endif","","//getcwd()","#if defined(wasm)"," C*getcwd(C*s,Nn)_((V*)0)","#elif defined(libc)"," ;","#elif defined(__FreeBSD__)"," asm(h(__getcwd));C*__getcwd(C*,N);C*getcwd(C*s,Nn)_(__getcwd(s,n))","#else"," asm(h(getcwd));","#endif","","//other syscalls","#if defined(wasm)"," I js_in(V*,N);V js_out(OV*,N),js_log(OV*),*js_alloc(N),js_time(I*,long*),js_exit(I);"," S ST{C*a,p[16];Nn;}s[8]={{.a=\"\"},{.a=\"\"},//s:storage,","  #include\"o/w/fs.h\""," };S ST{C i;N o;}d[8]={{.i=1},{.i=1},{.i=1}};S O I ns=ZZ(s),nd=ZZ(d);//d:fd table"," #define FI P((UI)f\u003e=nd||!d[f].i,EBADF)Ii=d[f].i;//validate fd \"f\" and get inode \"i\""," I open(Qp,Iv,...)_(Im=Sn(p);P(m\u003e=SZ s[0].p,ENAMETOOLONG)Ii=0;W(i\u003cns\u0026\u0026SQ(s[i].p,p),i++)","  I(i\u003e=ns,P(O_CREAT\u0026~v,ENOENT)i=0;W(i\u003cns\u0026\u0026s[i].a,i++)P(i\u003e=ns,ENOSPC)s[i].a=\"\";s[i].n=0;Mc(s[i].p,p,m))","  If=0;W(f\u003cnd\u0026\u0026d[f].i,f++)P(f\u003e=nd,EMFILE)d[f].i=i;d[f].o=0;f)"," I close(If)_(FI d[f].i=0;0)"," I read(If,V*a,Nn)_(FI P(i==1,js_in(a,n))I o=d[f].o;n=max(0,min(n,s[i].n-o));Mc(a,s[i].a+o,n);d[f].o+=n;n)"," I write(If,OV*a,Nn)_(FI;P(i==1,js_out(a,n);n)","  Im=d[f].o+n;I(m\u003es[i].n,C*b=js_alloc(m);Mc(b,s[i].a,n);s[i].a=b;s[i].n=m)Mc(s[i].a+d[f].o,a,n);n)"," off_t lseek(If,off_t o,I w)_(FI;o=w==SEEK_CUR?o+d[f].o:w==SEEK_END?o+s[i].n:w==SEEK_SET?o:-1;P(o\u003c0,EINVAL)d[f].o=o)"," I fstat(If,ST stat*r)_(FI;In=s[i].n;","  *r=(TY(*r)){.st_ino=i,.st_mode=i==1?S_IFCHR:S_IFREG,.st_nlink=1,.st_size=n,.st_blksize=512,.st_blocks=n+511\u003e\u003e9};0)"," V*mmap(V*a,Nn,I pr,I fl,If,off_t o)_(I(!a,a=js_alloc(n))P(f\u003c0,a)P(f\u003e=nd||!d[f].i,(V*)-1)Ii=d[f].i;Mc(a,s[i].a+o,n);a)"," I munmap(If,In)_(0)"," I gettimeofday(ST timeval*a,V*b)_(js_time((V*)\u0026a-\u003etv_sec,(V*)\u0026a-\u003etv_usec);0)"," V exit(Iv){js_exit(v);}"," I dup2(If,Iv)_(-1)I execve(Qp,C*O*a,C*O*e)_(-1)I fork()_(-1)I socket(Ii,Ij,Ik)_(-1)"," I setsockopt(If,I l,I s,OV*v,socklen_t n)_(-1)I connect(If,O ST sockaddr*s,socklen_t n)_(-1)I chdir(Qp)_(-1)"," I ftruncate(If,off_t o)_(-1)"," I wait4(I i,I*l,I o,ST rusage*u)_(-1)","#elif defined(libc)"," ;","#else"," asm(h3(read)h3(write)h3(open)h1(close)h2(fstat)h3(lseek)h2(munmap)h2(dup2)h3(socket)h5(setsockopt)h3(connect)","     h(fork)h4(wait4)h3(execve)h1(exit)h2(gettimeofday)h6(mmap)h1(chdir)h2(ftruncate));","#endif","","//mem and str functions","#if !defined(libc)"," V*memcpy (V*x,OV*y,Nn)_(C*p=x  ;Qq=y  ;i(n,*p++=*q++)x)"," V*memrcpy(V*x,OV*y,Nn)_(C*p=x+n;Qq=y+n;i(n,*--p=*--q)x)"," V*memmove(V*x,OV*y,Nn)_((y\u003cx\u0026\u0026x\u003cy+n?memrcpy:memcpy)(x,y,n))"," V*memset(V*x,Iv,Nn)_(C*p=x;i(n,*p++=v);x)"," V*memchr(OV*x,Iv,Nn)_(Qs=x;i(n,P(s[i]==v,(V*)(s+i)))(V*)0)"," V*memmem(OV*x,Nm,OV*y,Nn)_(Qp=x,q=y;i((L)m-(L)n+1,P(!memcmp(p+i,q,n),(V*)(p+i)))(V*)0)"," I memcmp(OV*x,OV*y,Nn)_(Qs=x,t=y;i(n,Iv=*s++-*t++;P(v,v))0)"," N strlen(Qs)_(Qp=s;W(1,UL v=~*(UL*)(V*)p;v\u0026=v\u003e\u003e1;v\u0026=v\u003e\u003e2;v\u0026=v\u003e\u003e4;v\u0026=0x0101010101010101ll;B(v)p+=8)W(*p,p++)p-s)"," C*strchr(O C*s,Iv)_(W(1,P(*s==v,(V*)s)P(!*s++,(V*)0))(V*)0)"," C*strstr(O C*p,O C*q)_(MM(p,Sn(p),q,Sn(q)))"," I strcmp(Qp,Qq)_(W(*p\u0026\u0026*p==*q,p++;q++)*p-*q)","#endif","#if !defined(libc)||!defined(_GNU_SOURCE)"," C*strchrnul(Qs,Iv)_(W(1,P(*s==v,(V*)s)P(!*s,(V*)s)s++)(V*)s)","#endif","","//mathematical functions","#if !defined(wasm)\u0026\u0026!defined(libc)"," D sin(Dv)_(ND)D cos(Dv)_(ND)D log(Dv)_(ND)D exp(Dv)_(ND)","#endif","","//`js@","#if !defined(wasm)"," I js_eval(C*s,Im,C*r,In)_(0)","#endif",""],"1.c":["#include\u003cmath.h\u003e // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#include\"a.h\"","#define hf(f,T,e...) S N f(OV*RE a0,V*RE r0,Nn)_(O T*a=a0;T*r=r0;LN(a)LN(r)e)","#define NG(T) hf(neg##T,T,Ni=0;I g=ZA/SZ(T);W(i\u003cn,I o=0;j(g,o|=a[j]==(T)(1\u003c\u003cSZ(T)*8-1))P(o,i)j(g,r[j]=-a[j])a+=g;r+=g;i+=g)n)","#define F1(f,T,c...) hf(f##T,T,i(PD(n,a),r[i]=({c;}))n)","TD size_t(*F1)(OV*,V*,N);NG(B)NG(H)NG(I)F1(neg,L,-a[i])F1(neg,D,-a[i])","","A pen(Ax,A1*f)_(XmMA(eac1f(x,f))et1(x))","A1(neg,XmMA(eac1f(x,neg))Xzc(az(-gl(x)))Xd(ad(-gd(x)))XC(neg(cB(x)))"," XZD(S O F1 f[]={negB,negH,negI,negL,negD};Nn=xn;Ay=xr\u003e1?an(xt,n):x;Nm=f[xt-tB](xV,yV,n);","  I(m\u003cn,I(x-y,x=wdn(x,m,n,n-m);y=wdn(y,0,m,n))E(x=y=wdn(y,0,n,n))N mw=m*yW;f[xt-tB](xV+(x-y?0:mw),yV+mw,n-m))x-y?x(y):y)"," et1(x))","A1(not,XmMA(eac1f(x,not))XF(x(ai(x==au)))eql(xtsS?as(0):ai(0),x))","A1(nul,XmMA(eac1f(x,nul))XF(x(ai(x==au)))XD(Ay=aB(xn);xe(i(xn,yb=xd!=xd);y))Xd(x(ai(*xD!=*xD)))eql(_R(cn[xt]),x))","A1(flr,XmMA(eac1f(x,flr))XcC(K(\"`c$@[!256;65+!26;+;32]\",cB(x)))XsS(cS(flr(str(x))))XzZ(x)"," XdD(Ay=an(xt+tl-td,xn);xe(i(yn,yl=xd\u003c0?(L)xd-(xd\u003c(L)xd):(L)xd)y))et1(x))","","#define h(k,f) A1(k,XdD(Ay=xr-1?an(xt,xn):x;i(PD(xn,xD),yd=f(xd));x-y?x(y):y)XmMA(eac1f(x,k))k(N(cD(x))))","h(ksin,sin)h(kcos,cos)h(klog,log)h(kexp,exp)h(sqr,__builtin_sqrt)",""],"2.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","//{dex add sub mul dvd mod mnm mxm ltn gtn eql} x {o0123fspa} x {BHILD} =","// = {:+-*%!\u0026|\u003c\u003e=} x {op a+a a+l l+a l+l f/ f\\ f': @} x {byte short int long double}","#define hv(v,T,R,f) S R v##o##T(T x,T y)_(f)","#define hd(v,f,g) hv(v,B,B,f)hv(v,H,H,f)hv(v,I,I,f)hv(v,L,L,f)hv(v,D,D,g)","#define hc(v,f,g) hv(v,B,B,f)hv(v,H,B,f)hv(v,I,B,f)hv(v,L,B,f)hv(v,D,B,g)","#define h(v,f) hd(v,f,f)","h(dex,y)h(add,x+y)h(sub,x-y)h(mul,x*y)hv(dvd,D,D,x/y)","hd(mod,x\u003e0?(y%(L)x+x)%(L)x:!x?y:y\u003c0?-1-(-1-y)/-x:y/-x,x\u003e0?y-(L)(y/x)*x:dvdoD(y,-x))","h(mnm,min(x,y))h(mxm,max(x,y))hc(ltn,x\u003cy,qD(x,y)\u003c0)hc(gtn,x\u003ey,ltn(y,x))hc(eql,x==y,*(L*)\u0026x==*(L*)\u0026y)","#undef h","#define hV(f,T,R,e...) SN I f(OV*RE p,OV*RE q,V*RE s,Nn)_(O T*a=p,*b=q;R*r=s;e)","#define h0(v,T,R) hV(v##0##T,T,R,*r=v##o##T(*a,*b);0)","#define h1(v,T,R) hV(v##1##T,T,R,LN(b)LN(r)TY(*a)c=*a;i(PD(n,a),*r++=v##o##T(   c,*b++))0)","#define h2(v,T,R) hV(v##2##T,T,R,LN(a)LN(r)TY(*b)c=*b;i(PD(n,a),*r++=v##o##T(*a++,   c))0)","#define h3(v,T,R) hV(v##3##T,T,R,LN(a)LN(b)LN(r)      i(PD(n,a),*r++=v##o##T(*a++,*b++))0)","#define hS(v,T,R) hV(v##2##T,T,R,v##1##T(b,a,r,n))","#define h0123(a...) h0(a)h1(a)h2(a)h3(a)","#define h01S3(a...) h0(a)h1(a)hS(a)h3(a)","                                                        h0123(dvd,D,D)","h0123(mod,B,B)h0123(mod,H,H)h0123(mod,I,I)h0123(mod,L,L)h0123(mod,D,D)","h01S3(mnm,B,B)h01S3(mnm,H,H)h01S3(mnm,I,I)h01S3(mnm,L,L)h01S3(mnm,D,D)","h01S3(mxm,B,B)h01S3(mxm,H,H)h01S3(mxm,I,I)h01S3(mxm,L,L)h01S3(mxm,D,D)","h0123(ltn,B,B)h0123(ltn,H,B)h0123(ltn,I,B)h0123(ltn,L,B)h0123(ltn,D,B)","h01S3(eql,B,B)h01S3(eql,H,B)h01S3(eql,I,B)h01S3(eql,L,B)h01S3(eql,D,B)","#define hiT(i,T) mod##i##T,mnm##i##T,mxm##i##T,ltn##i##T,0,eql##i##T","#define hi(i) {{0,hiT(i,B)},{0,hiT(i,H)},{0,hiT(i,I)},{0,hiT(i,L)},{dvd##i##D,hiT(i,D)}},","TY(\u0026mod0B)aro[][5][7]={hi(0)hi(1)hi(2)hi(3)};//a+a a+l l+a l+l","S C tZx(Ax)_(Ct=TX[xt];P(t,t)Xl(tZ(gl_(x)))tZ(xv))","C sup(A*p,A*q)_(Ax=*p,y=*q;Ct=max(tZx(x),tZx(y));*p=x=Ny(cT[t](x));*q=y=Nx(cT[t](y));t)","S A3(ar2,Q(ztv)XYmMA(eac2f(x,y,v2[zv]))N(sup(\u0026x,\u0026y));Ik=xtT\u003c\u003c1|ytT;P(k==3\u0026\u0026xn-yn,el2(x,y))"," Ct=k?min(xt,yt):max(xt,yt);V*a=xtP?(V*)\u0026x:xV,*b=ytP?(V*)\u0026y:yV;t=TT[t];V(f,aro[k][t-tB][zv-4]);I(z\u003eMXM,t=tB)"," I(!k,t=max(ti,t+tc-tC);P(TP(t),Ii=0;f(a,b,\u0026i,1);x(y(az(i)))))"," Az=xt==t\u0026\u0026xr==1?x:yt==t\u0026\u0026yr==1?y:an(t,k-1?xn:yn);f(a,b,zV,zn);x-z?x(y-z?y(z):z):y(z))","S ALA(ext,XMT(x)rsh(n,xtm?enl(x):x))","A2(dct,P(rnk(x)\u003c0,ed2(x,y))x=ext(yN,x);y=ext(xN,y);(xN-yN?el2:am)(x,y))","A2(dex,mr(x);y)","A2(add,adm(x,y,0))","A2(sub,add(x,Nx(neg(y))))","A2(mul,adm(x,y,1))","A2(dvd,XYmMA(eac2f(x,y,dvd))ar2(Ny(cD(x)),Nx(cD(y)),DVD))","A2(mod,Xzc(YdD(Ln=gl_(x);P(!n,y)P(n\u003c0,ar2(x,Nx(csti(y)),MOD))K(\"{y-x*(-x)!`i$y}\",x,y))ar2(x,y,MOD))dct(x,y))","A2(mnm,ar2(x,y,MNM))","A2(mxm,ar2(x,y,MXM))","A2(ltn,P((1\u003c\u003cxt|1\u003c\u003cyt)\u0026(1\u003c\u003ctm|1\u003c\u003ctM|1\u003c\u003ctA|1\u003c\u003ctS),eac2f(x,y,ltn))P(xts\u0026\u0026yts,ai(qA(x,y)\u003c0))ar2(x,y,LTN))","A2(gtn,ltn(y,x))","A2(eql,XYmMA(eac2f(x,y,eql))P(xtsS-ytsS,et2(x,y))P(xtsS,eql(AT(xt+ti-ts,mut(x)),AT(yt+ti-ts,mut(y))))ar2(x,y,EQL))","","#define i4(w,n,a,b,c,d) S4(w,i(n,a),i(n,b),i(n,c),i(n,d))","#define MIN(x,y) (x)=min(x,y)","#define MAX(x,y) (x)=max(x,y)","SN A1(inv,x=mut(x);Nn=xn*xW;i(PD(n,xC),xc^=-1)x)","","S A3(___f,Nn=yn,i=!x;I(i,x=ii(y,0))W(i\u003cn,x=z2(x,ii(y,i++));B(!x))y(x))S A3 dexs;","S A3(dexf,las(dexs(x,y,z)))","S L mmmfZ(Lv,Ax/*0*/,Ii)_(Q(xtZDC)L l=-1ll\u003c\u003c8*xW-1,h=~l;Nn=xn;P((i?v\u003e=h:v\u003c=l)||!n,v)v=v\u003cl?l:v\u003eh?h:v;"," I(i,i4(xw,n,MAX(v,xb),MAX(v,xh),MAX(v,xi),MAX(v,xl)))E(i4(xw,n,MIN(v,xb),MIN(v,xh),MIN(v,xi),MIN(v,xl)))v)","S A3(mmmf,Ii=zv==7;P((x\u0026\u0026xtd)||ytD,Lv=ofpd1(x?gd(cD(x)):i?-WD:WD);y=cD(y);ad(ye(OFP1(y);L r=mmmfZ(v,y,i);OFP0(y);ofpd0(r))))"," Lv=x?gl(x):i?-WL:WL;az(ye(mmmfZ(v,y,i))))","S A3(admf,Ii=zv==3;Nn=yn;P((x\u0026\u0026xtd)||ytD,Dv=x?gd(cD(x)):i;y=cD(y);ad(ye(I(i,i(n,v*=yd))E(i(n,v+=yd))v)))"," Lv=x?gl(x):i;az(ye(I(i,i4(yw,n,v*=yb,v*=yh,v*=yi,v*=yl))E(i4(yw,n,v+=yb,v+=yh,v+=yi,v+=yl))v)))","S A3(subf,neg(admf(x?neg(x):yn?mul(ai(-2),ii(y,0)):0,y,ADD)))","A3(arf,Q(ztv)Q(zv\u003c11)Q(!x||xtzdc)Q(ytZDC)T(\u0026dexf,admf,subf,admf,___f,___f,mmmf,mmmf,___f,___f,___f)[zv](x,y,z))","","S A3(___s,Ni=!x;Au=i?x=ii(y,0),enl(xR):oA;Nn=yn;W(i\u003cn,x=z2(x,ii(y,i++));P(!x,y(u))uq(xR))x(y(u)))","S A3(dexs,x?x(y):y)","S A3(adds,L w=x?gl(x):0;Nn=yn;"," W(1,I b=1;Lv=w;Ct=tB+yw;Au=an(t,n);","  i4(yw,n,ub=v+=yb;B(v-(B)v,b=0),uh=v+=yh;B(v-(H)v,b=0),ui=v+=yi;B(v-(I)v,b=0),ul=v+=yl)P(b,y(u))y=cT[t+1](u(y)))0)","S A3(muls,L w=x?gl(x):1;Nn=yn;"," W(1,I b=1;Lv=w;Ct=yt;Au=an(t,n);I(t==tL,i(n,ul=v*=yl))J(t==tI,i(n,ui=v*=yi;B(v-(I)v,b=0)))","  J(t==tH,i(n,uh=v*=yh;B(v-(H)v,b=0)))J(t==tB,i(n,ub=v*=yb;B(v-(B)v,b=0)))E(Q(0))P(b,y(u))y=cT[t+1](u(y)))0)","S A3(subs,neg(adds(neg(x?x:mul(ai(2),ii(y,0))),y,0)))","S A3(mxms,P((!x||xtz)\u0026\u0026ytZ,Lv=x?gl(x):-WL,l=-1ll\u003c\u003c8*yW-1,h=~l;Nn=yn;I(v\u003c=l||h\u003c=v,P(v\u003e=0,y(rsh(n,az(v))))v=v\u003c0?l:h)"," Au=yr-1?an(yt,n):y;i4(yw,n,ub=MAX(v,yb),uh=MAX(v,yh),ui=MAX(v,yi),ul=MAX(v,yl))y-u?y(u):u)___s(x,y,z))","S A3(mnms,P((!x||xtz)\u0026\u0026ytZ,inv(mxms(x?az(~gl(x)):0,inv(y),MXM)))___s(x,y,z))","S A3(eqls,Lv=x?gl(x):~*yL;Au=ytB\u0026\u0026yr==1?y:aB(yn);i4(yw,yn,ub=v=v==yb,ub=v=v==yh,ub=v=v==yi,ub=v=v==yl)y-u?y(u):u)","A3(ars,Q(ztv)Q(zv\u003c11)Q(!x||xtzc)Q(ytZC)T(\u0026dexs,adds,subs,muls,___s,___s,mnms,mxms,___s,___s,eqls)[zv](x,y,z))","","S A3(dexp,cat(x,drp(-1,y)))","S A3(___p,v2[zv](y,dexp(x,yR,av)))","S A3(modp,eac2f(y,dexp(x,yR,av),mod))","S A3(mxmp,YC(mxmp(x,cB(y),z))"," I w=yw;Lv=gl(x),l=-1ll\u003c\u003c(8\u003c\u003cw)-1,h=~l;MAX(v,l);Nn=yn;P(v\u003e=h,rsh(n,y(az(v))))x=ax(y);iW(y,w,-1,v);Nj=n-1;"," i4(w,n,xB[j]=max(yB[j],yB[j-1]);j--,xH[j]=max(yH[j],yH[j-1]);j--,xI[j]=max(yI[j],yI[j-1]);j--,xL[j]=max(yL[j],yL[j-1]);j--)"," yn=n;x)","S A3(mnmp,inv(mxmp(az(~gl(x)),inv(y),MXM)))","S A3(cmpp,I o=z-LTN,w=yw;Nn=yn;Au=aB(n);Lv=gl(x),p=iw(y,w,0);*uB=!o?p\u003cv:o==1?p\u003ev:p==v;Lm=n-1;Lj=m;"," S4(o,i4(w,m,uB[j]=yB[j]\u003c yB[j-1];j--,uB[j]=yH[j]\u003c yH[j-1];j--,uB[j]=yI[j]\u003c yI[j-1];j--,uB[j]=yL[j]\u003c yL[j-1];j--),","      i4(w,m,uB[j]=yB[j]\u003e yB[j-1];j--,uB[j]=yH[j]\u003e yH[j-1];j--,uB[j]=yI[j]\u003e yI[j-1];j--,uB[j]=yL[j]\u003e yL[j-1];j--),","      i4(w,m,uB[j]=yB[j]==yB[j-1];j--,uB[j]=yH[j]==yH[j-1];j--,uB[j]=yI[j]==yI[j-1];j--,uB[j]=yL[j]==yL[j-1];j--),)y(u))","A3(arp,Q(ztv)Q(zv\u003c11)Q(xtzc)Q(ytZC)T(\u0026dexp,___p,___p,___p,___p,modp,mnmp,mxmp,cmpp,cmpp,cmpp)[zv](x,y,z))","","S A4(dexa,/*1101*/Ny(sup(\u0026x,\u0026u));x=mut(x);Nn=yn;I wx=xw,wy=yw,wu=utt?-1:uw;Lv=wu\u003c0?gl_(u):0;"," ye(ue(I(utt,i4(wx,n,xB[iw(y,wy,i)]=v ,xH[iw(y,wy,i)]=v ,xI[iw(y,wy,i)]=v ,xL[iw(y,wy,i)]=v ))","       E(    i4(wx,n,xB[iw(y,wy,i)]=ub,xH[iw(y,wy,i)]=uh,xI[iw(y,wy,i)]=ui,xL[iw(y,wy,i)]=ul))x)))","S A4(adma,/*1101*/x=cL(x);u=cL(u);x=mut(x);I(!ytL,y=cI(y))Nn=yn;"," I(utt,Lv=gl(u);ye(I(zv==1,I(ytL,i(n,xL[yl]+=v ))E(i(n,xL[yi]+=v )))E(I(ytL,i(n,xL[yl]*=v ))E(i(n,xL[yi]*=v )))0))"," E(ue(          ye(I(zv==1,I(ytL,i(n,xL[yl]+=ul))E(i(n,xL[yi]+=ul)))E(I(ytL,i(n,xL[yl]*=ul))E(i(n,xL[yi]*=ul)))0)))x)","S A4(mmma,/*1101*/Ny(sup(\u0026x,\u0026u));x=mut(x);I(!ytL,y=cI(y))V*v=utP?\u0026u:uV;I d=utT;Nn=yn;"," ye(ue(I(zv==6,I(ytL,i4(xw,n,MIN(xB[yl],uB[d*i]),MIN(xH[yl],uH[d*i]),MIN(xI[yl],uI[d*i]),MIN(xL[yl],uL[d*i])))","               E(    i4(xw,n,MIN(xB[yi],uB[d*i]),MIN(xH[yi],uH[d*i]),MIN(xI[yi],uI[d*i]),MIN(xL[yi],uL[d*i]))))","       E(      I(ytL,i4(xw,n,MAX(xB[yl],uB[d*i]),MAX(xH[yl],uH[d*i]),MAX(xI[yl],uI[d*i]),MAX(xL[yl],uL[d*i])))","               E(    i4(xw,n,MAX(xB[yi],uB[d*i]),MAX(xH[yi],uH[d*i]),MAX(xI[yi],uI[d*i]),MAX(xL[yi],uL[d*i]))))x)))","S A4(suba,adma(x,y,ADD,neg(u)))","A4(ara,/*1101*/Q(xtZC)Q(ytZC)Q(ztv)Q(0xcf\u00261\u003c\u003czv)Q(utzZ||utcC)"," P(utT\u0026\u0026yn-un,el2(x(y),u))P(!ina(y,xn),ei2(x(y),u))T(\u0026dexa,adma,suba,adma,0,0,mmma,mmma)[zv](x,y,z,u))",""],"3.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#define B2 H","#define H2 I","#define I2 L","#define GZ(T) (ZA/SZ(T))","#define hf(f,T,e...)     S N f(OV*RE a0,OV*RE b0,V*RE r0,Nn)_(O T*a=a0,*b=b0;T*r=r0;LN(b)LN(r)e)","#define hN(f,T,l,o)      hf(f,T,I(l,LN(a))i(PD(n,a),r[i]=a[l*i]o b[i])n) //+ and * for widest types, no overflow","#define hO(f,T,l,g,e...) hf(f,T,I(l,LN(a))Li=0;W(i\u003cn,e;i+=g;a+=l*g;b+=g;r+=g)i) //support overflows","#define hA(f,T,l,g)      hO(f,T,l,g,T v[g],o=0;j(g,T u=a[l*j]+b[j];o|=(a[l*j]^u)\u0026(b[j]^u);v[j]=u)P(o\u003e\u003eSZ(T)*8-1,i)Mc(r,v,ZA))","#define hM(f,T,l,g)      hO(f,T,l,g,T##2 v[g];j(g,v[j]=a[l*j]*(T##2)b[j])j(g,P(v[j]-(T)v[j],i))j(g,r[j]=v[j]))","#define ho(t,T)          hA(a##t##T,T,0,GZ(T))hA(a##T##T,T,1,GZ(T))hM(m##t##T,T,0,GZ(T))hM(m##T##T,T,1,GZ(T))","#define hn(t,T)          hN(a##t##T,T,0,+)hN(a##T##T,T,1,+)hN(m##t##T,T,0,*)hN(m##T##T,T,1,*)","ho(b,B)ho(h,H)ho(i,I)hn(l,L)hn(d,D)","S C tZx(Ax)_(Xz(tZ(gl_(x)))Xd(tD)XZD(xt)tn)","A adm(Ax,Ay,Iv)_("," P(xti\u0026\u0026yti,Lm=xv,n=yv;az(v?m*n:m+n))"," P(xtz\u0026\u0026ytz,Lm=gl(x),n=gl(y);az(v?m*n:m+n))"," XYmMA(eac2f(x,y,v?mul:add))"," XcC(adm(cB(x),y,v))"," YcC(adm(x,cB(y),v))"," P(xtdD-ytdD,adm(Ny(cD(x)),Nx(cD(y)),v))"," Ct=max(tZx(x),tZx(y));P(t==tn,et2(x,y))"," x=Ny(cT[t](x));"," y=Nx(cT[t](y));"," Ik=2*xtT+ytT;"," P(!k,Xd(ad(v?gd(x)*gd(y):gd(x)+gd(y)))az(v?gl(x)*gl(y):gl(x)+gl(y)))"," I(k==2||(k==3\u0026\u0026xr==1),SWP(x,y))"," S O TY(\u0026abB)f[][2][5]={{{abB,ahH,aiI,alL,adD},{aBB,aHH,aII,aLL,aDD}},{{mbB,mhH,miI,mlL,mdD},{mBB,mHH,mII,mLL,mDD}}};"," Nn=yn;P(k==3\u0026\u0026xn-n,el2(x,y))Az=yr-1?an(yt,n):y;Lm=f[v][k==3][yt-tB](xtP?(V*)\u0026x:xV,yV,zV,n);"," I(m\u003cn,I(k-3,x=cT[xt+1+tC-tc](x))E(x=wdn(x,m,n,n-m))","       I(y-z,y=wdn(y,m,n,n-m);z=wdn(z,0,m,n))E(y=z=wdn(z,0,n,n))","       N l=m*zW;f[v][k==3][yt-tB](xtP?(V*)\u0026x:xV,yV+(y-z?0:l),zV+l,n-m))"," x(y-z?y(z):z))",""],"4.c":["#include\"a.h\"","S I f(I*r,I n){"," S O UI s[]={2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,","  149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,","  307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397};"," I nr=ZZ(s);W(nr\u0026\u0026n\u003c=s[nr-1],nr--)Mc(r,s,4*nr);P(nr\u003cZZ(s),nr)I k=4,m=3*5*7*11,w=722;C t[2*m-1],a[1\u003c\u003c14];"," i(k,I p=r[i+1],j=p\u003e\u003e1;W(j\u003cm\u003c\u003c3,t[j\u003e\u003e3]|=1\u003c\u003c(j\u00267);j+=p))cyc(t,m,SZ t);"," for(I u=r[nr-1]+2;u\u003cn;u+=8*SZ a){I v=min(n,u+8*SZ a),l=(v-u+1)\u003e\u003e1;ccp(t+u/2%m*w%m,m,a,SZ a);I i=k+1;","  W(1,I p=r[i++];B((L)p*p\u003e=v)for(I j=(2*p-1-(u+p-1)%(2*p))\u003e\u003e1;j\u003cl;j+=p)a[j\u003e\u003e3]|=1\u003c\u003c(j\u00267))","  UI*b=(V*)a;I(l\u002631,b[l-1\u003e\u003e5]|=-1\u003c\u003c(l\u002631))","  i(l+31\u003e\u003e5,UL x=~b[i];I j=-1;W(x,I d=__builtin_ctz(x)+1;x\u003e\u003e=d;j+=d;r[nr++]=u+64*i+2*j))}"," return nr;}","A1(qpri,"," S O I h[]={19,89,263,659,1571,3607,8087,17783,38791,83911,180391,385991,821479,1742443,3681017,7753909,16289947,","  34135883,71378467,148948021,310248149,645155087,1339483993,-1u\u003e\u003e1};"," P(!xtz,et1(x))L n=gl(x);P(n-(I)n,ez0())P(n\u003c0,ed0())I i=0;W(h[i]\u003cn,i++)Ax=aI((16\u003c\u003ci)-8);xn=f(xI,n);x)",""],"a.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","S A1(sam,x)VS;OC Tz[]={Tzv},TZ[]={TZv},TT[]={TTv},TX[]={TXv},Tk[]={Tkv};","A1(mkn,XmMA(eac1f(x,mkn))Ay=_R(cn[xt]);Xt(x(y))rsh(xN,x(y)))I _K(Ax/*0*/)_(xtu||xtw?1:xtv?2:xte?x\u003e\u003e48\u00267:xtF?xk:0) //_K:arity","A2(id_,/*00*/x==CAT?_R(ce[ce[yt]?yt:tA]):xtv\u0026\u0026xv\u003c11\u0026\u0026xv?_R(ci[ytdD][T((C)4,0,0,1,1,2,2,3,3,2,4)[xv]]):mkn(fir(yR)))","AX(prj,XmMA(x8(a,n))Ik=max(n,xK);i(n,k-=a[i]!=PLH)"," x=(xtp?val:a1)(xR);Ii=0,j=1;W(i\u003cn\u0026\u0026j\u003cxn,I(xA[j]==PLH,xA[j]=a[i++])j++)W(i\u003cn,xq(a[i++]))P(xn\u003e9,ez1(x))AT(tp,AK(k,x)))","AAL(ii,/*0*/XA(_R(xa))XC(ac(xc))XB(ai(xb))XH(ai(xh))XI(ai(xi))XL(al(xl))XD(ad(xd))XS(as(xi))Xm(ii(xy,i))"," XM(Ay=xy,z=aA(yn);Q(ytA);j(zn,zA[j]=ii(yA[j],i))am(_R(xx),sqz(z)))xR)","S AAL(io,/*0*/xtt||in(i,xN)?ii(x,i):xN?mkn(ii(x,0)):xtm?io(xy,i):_R(cn[xt]))A1(fir,x(io(x,0)))A1(las,x(io(x,xN-1)))","#define G(T,U) (32/(SZ(T)\u003eSZ(U)?SZ(T):SZ(U)))","#define iF(f,T,U,R,e...) S L f(OV*RE a,Lm,OV*RE b,V*RE c,Nn)_(O T*p=a;O U*q=b;R*r=c;LN(p)LN(q)LN(r)e;n)","#define iC_(U) iF(  iC##U,C,U,C,i(PD(n,q),r[i]=in(q[i],m)?p[q[i]]:32))","#define iS_(U) iF(  iS##U,I,U,I,i(PD(n,q),Iv=in(q[i],m);r[i]=v*p[v*q[i]]))","#define iD_(U) iF(  iD##U,D,U,D,i(n,r[i]=in(q[i],m)?p[q[i]]:ND))","#define j_(T,U)iF(j##T##U,T,U,L,i(n,r[i]=in(q[i],m)?p[q[i]]:NL))","#define i_(T,U)iF(i##T##U,T,U,T,UI g=G(T,U);U k[g];\\"," i(n/g,j(g,k[j]=q[j])U o=0;j(g,o|=!in(k[j],m))P(o,i*g)j(g,r[j]=p[k[j]])q+=g;r+=g)\\"," L l=n/g*g;j(n-l,P(!in(q[j],m),l))j(n-l,r[j]=p[q[j]]))","iC_(I)iC_(L)i_(B,I)j_(B,I)i_(B,L)j_(B,L)i_(H,I)j_(H,I)i_(H,L)j_(H,L)i_(I,I)j_(I,I)i_(I,L)j_(I,L)j_(L,I)j_(L,L)","iD_(I)iD_(L)iS_(I)iS_(L)","S A2(i1,/*01*/Xt(y(xR))P(y==PLH||y==au,xR)P(xtm||xtM\u0026\u0026ytsS,i1(xy,N(fnd(_R(xx),y))))"," Yzc(io(x,gl(y)))Yt(et1(y))YmM(Az=kv(\u0026y);am(y,Ny(i1(x,z))))YA(ear2(xR,y,AP1))"," I(!ytL\u0026\u0026!ytI,y=N(cI(y)))Nn=yn;P(xtA||xtM,Az=oA;I(ytL,i(n,zq(io(x,yl))))E(i(n,zq(io(x,yi))))y(z))"," Az=xtL\u0026\u0026ytL\u0026\u0026yr==1?y:an(xt,n);Lm=T(\u0026iBI,iHI,iII,jLI,iDI,iCI,iSI,iBL,iHL,iIL,jLL,iDL,iCL,iSL)[xt-tB+7*ytL](xV,xn,yV,zV,n);"," I(m\u003cn,z=z(aL(n));T(\u0026jBI,jHI,jII,jBL,jHL,jIL)[xt-tB+3*ytL](xV,xn,yV,zV,n))y-z?y(z):z)","S A3(i2,/*011*/Cb=ytT||y==PLH||y==au;x=Nz(i1(x,y));P(!b,x(x1(z)))K(\".\\\\:\",x,a1(z)))","S AX(i8,Ay=*a;P(n==1,i1(x,y))P(n==2,i2(x,y,a[1]))"," a++;n--;Cb=ytT||y==PLH||y==au;x=i1(x,y);P(!n,x)P(!x,mrn(n,a);x)P(!b,x(i8(x,a,n)))K(\".\\\\:\",x,aV(tA,n,a)))","L iw(Ax/*0*/,I w,Li)_(S4(w,_(xb),_(xh),_(xi),_(xl))0)","V iW(Ax/*0*/,I w,Li,Lv){S4(w,xb=v,xh=v,xi=v,xl=v)}","I ina(Ax/*0*/,Nn)_(S4(xw,P(n-(B)n,1)i(xn,P(!in(xb,n),0)),","                         P(n-(H)n,1)i(xn,P(!in(xh,n),0)),","                         P(n-(I)n,1)i(xn,P(!in(xi,n),0)),","                                    i(xn,P(!in(xl,n),0)))1)","S A1(qt,x(al(now())))","S A1(qar,Ay=oA;Q*p=argv;W(*p,yq(aCz(*p++)))ap1(y,x))","S A1(qen,Ay=oS,z=oA;Q*e=env;W(*e,Qp=*e++,q=p+si(p,'=');yq(cS(aCm(p,q)));zq(aCz(q+!!*q)))y=am(y,z);x-au?ap1(y,x):y)","S A1(qex,exit(xtz?gl(x):1);0)","S A1(qr,x(ai(xr)))","S A1(qjs,XC(Cb[ZP];In=js_eval(xC,xn,b,SZ b);x(0);aCn(b,n))XA(eac1f(x,qjs))et1(x))","S A1(qp,XC(x=str0(x);x(pk(xV)))et1(x))","A2(_1,/*01*/P(!xtt,i1(x,y))"," Xs(S O C s[][4]={\"\",\"k\",\"j\",\"p\",\"t\",\"x\",\"hex\",\"err\",\"argv\",\"env\",\"exit\",\"js\",\"prng\",\"sin\",\"cos\",\"exp\",\"ln\",\"r\",\"pri\"};","  Li=fI(s,ZZ(s),xv);T(\u0026ser,kst,js1,qp,qt,frk,hex,err,qar,qen,qex,qjs,prng,ksin,kcos,kexp,klog,qr,qpri,ed1)[i\u003c0?ZZ(s):i](y))"," Ik=xK;P(1\u003ck,prj(x,\u0026y,1))Xo(run(x,\u0026y,1))Xv(en1(y))Xr(adv(x,\u0026y,1))Xe(((A1*)(x\u003c\u003c16\u003e\u003e16))(y))"," Xp(P(xn+k\u003e9,er1(y))Im=xn-1,j=0;Ab8;i(m,b[i]=xA[i+1]==PLH\u0026\u0026!j?j++,y:_R(xA[i+1]))I l=max(0,1-j);Mc(b+m,\u0026y,8*l);_8(xx,b,m+l))"," Xq(_1(xx,N(_1(xy,y))))P(1\u003ek,er1(y))Xu(v1[xv](y))Xw(AK(0\u003cxv\u0026\u0026xv\u003c4\u0026\u0026yK==2?1:ytF?yK:1,AW(xv,aV(tr,1,\u0026y))))et1(y))","A3(_2,/*011*/P(!xtt,i2(x,y,z))A a[]={y,z};Ik=xK;P(2\u003ck,prj(x,a,2))Xo(run(x,a,2))Xv(v2[xv](y,z))Xr(adv(x,a,2))"," Xw(xv?en2(x,y):AK(zK,AT(tq,a2(y,z))))Xp(P(xn+k\u003e9,er2(y,z))Im=xn-1,j=0;Ab8;i(m,b[i]=xA[i+1]==PLH\u0026\u0026j\u003c2?a[j++]:_R(xA[i+1]))"," I l=max(0,2-j);Mc(b+m,a+j,8*l);_8(xx,b,m+l))Xq(_1(xx,N(_2(xy,y,z))))P(2\u003ek,er2(y,z))Xe(((A2*)(x\u003c\u003c16\u003e\u003e16))(y,z))et2(y,z))","AX(_8,Q(n)P(n==1,x1(*a))P(n==2,x2(*a,a[1]))P(!xtt,i8(x,a,n))"," Ik=xK;P(n\u003ck,prj(x,a,n))Xo(run(x,a,n))Xv(v8[xv](a,n))Xr(adv(x,a,n))"," Xp(P(xn+k\u003e9,er8(a,n))Im=xn-1,j=0;Ab8;i(m,b[i]=xA[i+1]==PLH\u0026\u0026j\u003cn?a[j++]:_R(xA[i+1]))I l=max(0,n-j);Mc(b+m,a+j,8*l);_8(xx,b,m+l))"," Xq(_1(xx,N(_8(xy,a,n))))P(n\u003ek,er8(a,n))Xw(en8(a,n))Xe(en8(a,n))et8(a,n))","A1(jS,cS(jc('.',str(x))))//join symbols with \".\"","A1(val,XS(P(!xn,Ax=oS,y=oA;i(gn,I(gv[i],xq(as(gk[i]));yq(_R(gv[i]))))am(x,y))val(jS(x)))"," Xs(Li=fI(gk,gn,xv);i\u003c0||!gv[i]?ev0():_R(gv[i]))XC(x=str0(x);x(evs(xV)))Xc(evs((V*)\u0026x))XmM(x(_R(xy)))"," XA(P(!xn,x)P(xn==1,fir(x))P(xn\u003e9,ez1(x))x=mut(x);Ay=_8(xx,\u0026xy,xn-1);AN(1,x);x(y))"," Xr(cat(AT(tA,mut(x)),aw+xE))P(c3(tu,xt,tw),ai(xv))P(c3(to,xt,tq),AT(tA,mut(x)))et1(x))","A2(idx,x(i1(x,y)))","A2(ap1,x(x1(y)))","A2(dot,Ym(et2(x,y))Nn=yN;P(!n,y(x))P(n\u003e8,ez2(x,y))y=mRa(Nx(cA(y)));x(y(x8(yA,n))))","S I knd(Ax/*0*/)_(Xz(ti)XZ(tI)xt)","S A set(Ax,Li,Ay/*1i1*/)_(Q(xr==1);XA(Az=xa;xa=z(y);ytt\u0026\u0026!ytF?sqz(x):x)"," XM(Az=kv(\u0026x);z=mut(z);Q(ztA);I(ytT\u0026\u0026yN-zn,x(el2(y,z)))Ij=i;i(zn,za=set(mut(za),j,ii(y,i));P(!za,za=au;x(y(z(0)))))y(aM(x,z)))"," P(knd(x)-knd(y)-tC+tc,set(cA(x),i,y))"," I(xtZ,N(sup(\u0026x,\u0026y)))C w=xw;!w?xb=yv:w==1?xh=yv:w==2?xi=yv:(xl=gl(y));x)","AA(am8,Ax=*a,y=a[1];"," XT(P(y==au,Ab8;Mc(b,a,n*8);b[1]=tilL(xN);am8(b,n))","  Yzc(Li=gl_(y);P(!in(i,xn),ei8(a,n))x=mut(y(x));Ab8;Az=a[2];*b=ii(x,i);Mc(b+1,a+3,8*n-24);set(x,i,Nx(z(z8(b,n-2)))))","  I(ytZC\u0026\u0026n==4,Az=a[2],u=a[3];","   P(xtZ\u0026\u0026ztv\u0026\u0026utzZ\u0026\u0026(0xcf\u00261\u003c\u003czv),ara(x,y,z,u))","   P(xtC\u0026\u0026z==av\u0026\u0026utcC,cC(N(ara(x,y,z,u)))))","  Yt(et8(a,n))","  fld(AP1,a,n))"," XM(Ab8;i(n,Ax=a[i];b[i]=xtM?flp(x):x;Q(b[i]))flp(N(eac(AP1,b,n))))"," Xm(Az=kv(\u0026x),u=fnd(xR,yR);P(!u,mrn(n-1,a+1);x(z(0)))","  I(utlL,Q(ur==1);i(uN,I(ul==NL,ul=xN;xq(utt?yR:ii(y,i));zq(id_(a[2],z)))))","  Ab8;*b=y(z);b[1]=u;Mc(b+2,a+2,8*n-16);am(x,Nx(am8(b,n))))"," XF(Q(n\u003e1)x(_8(x,a+1,n-1)))"," et8(a,n))","S A3(am3,am8(A(x,y,z),3))S A4(am4,am8(A(x,y,z,u),4))S A am5(Ax,Ay,Az,Au,A v)_(am8(A(x,y,z,u,v),5))","A3(dm3,Nm=yN;P(y==au||!m,z(z1(y(x)  )))P(m==1,am3(x,fir(y),z  ))yR;am4(x,fir(y),prj(DOT,A(PLH,drp(1,y)),2),z))","A4(dm4,Nm=yN;P(y==au||!m,z(z2(y(x),u)))P(m==1,am4(x,fir(y),z,u))yR;am5(x,fir(y),prj(DOT,A(PLH,drp(1,y)),2),z,u))","AA(dm8,n==4?dm4(*a,a[1],a[2],a[3]):n==3?dm3(*a,a[1],a[2]):en8(a,n))","AA(dmd,Ax=*a;"," XsS(Iv=_v(xts?x:jS(x));Li=fI(gk,gn,v);I(i\u003c0,gk[i=gn++]=v)A*p=gv+i;I(!*p,*p=au)","  Ab8;*b=*p;Mc(b+1,a+1,(n-1)*8);*p=au;*p=_R(N(dm8(b,n))))"," I(n==3,XF(try(x,a[1],a[2])))dm8(a,n))","SN A evKi(A*p,Qs)_(*p=evs(s);I(!*p,die(s))cns=apd(cns,*p))","A evK(A*p,Qs,OA*a,In)_(I(!*p,evKi(p,s))n?_8(*p,a,n):*p)",""],"b.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","enum{bu,bv=32,bs=64,bg=72,bd=80,ba=88,bP,bi,bx,bI,bX,bm,bM,bG,bS,bl,bL,bz,bj,bA,bo,bp,bc};","#define h(a) {b[nb]=a;m[nb]=o;nb+=nb\u003c255;}","#define hc(a) {N(lc(a,o));}","#define OK -1","#define Nr(a...) {I r=cr(a);P(r-OK,r);}","#define Nl(a...) {I r=cl(a);P(r-OK,r);}","#define fl uA[3]","S A u;S UC*b,*m;S I nb,lu[8];S A cr(A,I);","SN I lc(Ax/*1*/,I o)_(Ay=u;Nn=yn,i=5;W(i\u003cn,B(mtc_(x,ya),x=x(0))i++)I(x,uq(x))h(i+bc-5)1)","SN I ig(Lv)_(I(*gp,Qq=qs(\u0026v);C s[32];Nm=Sn(gp),n=Sn(q);P(m+n+2\u003e=SZ s,-1)Mc(s,gp,m);s[m]='.';Mc(s+m+1,q,n+1);v=(I)sym(s))"," Li=fI(gk,gn,v);P(i\u003e=0,i)P(gn-(UC)gn,-1)gk[gn]=v;gv[gn]=0;gn++)","SN I il(Iv)_(Li=fAI(fl,v);P(i\u003e=0,lu[i]=nb;i)-1)","S A cl(Ax,Ay/*00*/,I r)_(I o=xo;Q(xx==av||_t(xx)==tu)Iv=_v(xx);"," YsS(","  I(yts,P(xx==av\u0026\u0026_n(fl),Li=fpI(\u0026fl,yv);P(i\u003e15,ez0())lu[i]=nb;h(bs+i)I(r,h(bg+i))OK)","        Ii=il(yv);P(i\u003e=0,h(bm)h(i)h(v)I(r,h(bg+i))OK))","  E(P(yn==1,o)y=jS(yR))","  Ii=ig(yv);P(i\u003c0,ez0())h(v?bM:bS)h(i)I(v,h(v))I(r,h(bG)h(i))OK)"," YA(In=yn-1;P(n-(UC)n||n\u003c1,o)Az=yx;P(z==MKL\u0026\u0026xx==av,h(bL)h(n)i(n,Nl(x,yA[i+1],0))I(!r,h(bp))OK)","  P(ztsS,I(ztS,z=jS(zR))i(n,Nr(yA[n-i],1))h(bl)h(n)Ii=il(zv);P(i\u003c0,hc(z)h(r?bX:bI)h(v)OK)h(r?bx:bi)h(i)h(v)OK)o)o)","S A cr(Ax/*0*/,I r)_(I o=xo;"," XsS(I(xts,Ii=il(xv);P(i\u003e=0,h(bg+i)I(!r,h(bp))OK)P(xv=='o',I(r,h(bo))OK))E(P(xn==1,I(r,hc(ii(x,0)))OK)x=jS(xR))","  Ii=ig(xv);P(i\u003c0,ez0())h(bG)h(i)I(!r,h(bp))OK)"," P(!xtA||!xn,I(r,hc(x-PLH?xR:au))OK)"," Nn=xn;Ay=xx;"," P(y==PLH,i(n-1,Nr(xA[i+1],i==n-2\u0026\u0026r))OK)"," P(n\u003c2,I(r,hc(yR))OK)"," P(n==3\u0026\u0026(ytu||y==av)\u0026\u0026_tsSA(xy),Nr(xz,1);Nl(x,xy,1);I(!r,h(bp))OK)"," P(n\u003e3\u0026\u0026y==CST,n--;I p[n];A*a=xA;i(n\u0026~1,Nr(*++a,1);h(i\u00261?bj:bz)p[i]=nb;h(0))Nr(n\u00261?*++a:au,1);","  i(n\u0026~1,I d=(i\u00261?nb-1:p[i+1])-p[i];I(i\u00261,Ij=(n\u0026~1)-1;W(i\u003cj\u0026\u0026d\u003e255,d=p[j]-1-p[i];j-=2))P(d\u003e255,ez0())b[p[i]]=d)I(!r,h(bp))OK)"," I(n==2\u0026\u0026y==FIR,Az=xy;P(ztA\u0026\u0026zn==2\u0026\u0026zx==REV,Nr(zy,1);h(bu+LAS-au)I(!r,h(bp))OK))"," I p=0;i(n-1,Az=xA[n-1-i];I(z==PLH,p=1;hc(PLH))E(Nr(z,1)))"," P(p,Nr(xx,1);h(bP)h(n-1)I(!r,h(bp))OK)"," P(y==MKL,n--;P(n-(UC)n,o);h(bl)h(n)I(!r,h(bp))OK)"," P(n==2\u0026\u0026ytu,h(bu+yv)I(!r,h(bp))OK)"," P(n==3\u0026\u0026ytv,h(bv+yv)I(!r,h(bp))OK)"," P(n\u003e9,ez0();o)Nr(xx,1);h(ba)h(n-1)I(!r,h(bp))OK)","S A2(f2,/*0*/P(xtw\u0026\u0026!ytsSA,1)/*P(x==TIL\u0026\u0026ytZ\u0026\u0026yn\u003c4,i(yn,P(!in(gl(ii(y,i)),101),0))1)*/0)","S A3(f3,/*0*/P(ADD\u003c=x\u0026\u0026x\u003c=MUL\u0026\u0026ytL\u0026\u0026ztL\u0026\u0026yn==zn\u0026\u0026yn\u003c101,1)0)","S A1(qt,/*1*/xtsSA?enl(x):x)","S A1(cf,XA(P(xx==MKL,i(xn,Ay=xa;YsSA(x))a1(drp(1,x)))","           P(xn==2?f2(xx,xy):xn==3?f3(xx,xy,xz):0,qt(N(val(x))))","           Ay=rsh(xn,au);i(xn,ya=cf(xa);xa=au;P(!ya,die(\"cf\")))AO(xo,x(y)))x) //preserve src offsets","S I mxs(Ii,I s)_(I r=s;W(1,UC c=b[i++];Q(s\u003e=0)r=max(r,s);P(!c,r)P(c==bz,i++;s--;max(r,max(mxs(i,s),mxs(i+b[i-1],s))))"," I(c\u003e=bc||c==bo||c-bg\u003c8u||c-bd\u003c8u||c==bG,s++)J(c-bs\u003c8u||c-bv\u003c32u||c==bp||c==bm||c==bx||c==bM||c==bS,s--)"," J(c==bi||c==bX,s-=2)J(c==bI||c==bA,s-=3)J(c==bL,s+=b[i])J(c==bl||c==ba||c==bP,s-=b[i]-1)"," I(c==bm||c==bx||c==bM||c==bi,i+=2)J(c==bX||c==bI||c==bL||c==bl||c==ba||c==bP||c==bG||c==bS,i++)J(c==bj,i+=b[i]+1))r)","S I shy(Ax/*0*/)_(!xtA?0:xn\u0026\u0026xx==PLH?shy(xA[xn-1]):xn==3\u0026\u0026(xx==av||_t(xx)==tu)\u0026\u0026_tsSA(xy))","A3(cpl,/*src,ast,loc*/UC b0[256],m0[256];b=b0;m=m0;nb=1;Ik=zn;u=aV(tA,5,A(x,au,au,z,au));Ms(lu,-1,SZ lu);y=Nu(cf(y));"," I s=shy(y),r=cr(y,1);y(0);I o=0;I(s,hc(au))h(bu)P(r-OK,ec0();eS(ux,r);u(0))P(_n(fl)\u003e8||nb\u003e=255||bc-4+un\u003e255,eS(ux,0);u(0);ez0())"," i(8,Ij=lu[i];I(j\u003e=0\u0026\u0026b[j]==bg,b[j]=bd))*b=mxs(1,0);*m=-1;uy=aCn(b,nb);uz=aCn(m,nb);AK(k,AT(to,u)))","","#define U(x,a...) B(!(x),a)","AX(run,Q(xto)P(n-xk,er8(a,n))S I d;P(++d\u003e1024,es8(a,n))UC*b=_V(xy),c,ns=*b++,nl=_n(xA[3]);A t[ns+nl],*s=t+ns,*l=s;"," Ms(t,0,SZ t);Mc(l,a,8*n);"," W((c=*b++),","  I(c\u003e=bc,*--s=_R(xA[c-bc+5]))","  J(c\u003e=ba,","   I(c\u003e=bA,","    I(c==bA,s+=3;U(*s=dmd(s-3,4)))","    J(c==bo,*--s=xR)","    E(Q(c==bp)mr(*s++)))","   E(Nn=*b++;","    I(c==ba||c==bP,Ax=*s,*p=s+1;s+=n;U(*s=x((c==ba?_8:prj)(x,p,n))))","    J(c==bi,Ax=l[n],y=*s++;U(x=l[n]=dm4(x?x:au,y ,av+*b++,*s),*s=0)s++)","    J(c==bx,Ax=l[n],y=*s++;U(x=l[n]=dm4(x?x:au,yR,av+*b++,*s),*s=y(0))U(*s=dot(xR,y)))","    J(c==bI,Ax=*s++,y=*s++;U(x=dmd(A(x,y ,av+n,*s),4),*s=0)s++)","    J(c==bX,Ax=*s++,y=*s++;U(x=dmd(A(x,yR,av+n,*s),4),*s=y(0))U(*s=dot(x,y)))","    J(c==bm||c==bM,A*v=(c==bm?l:gv)+n,x=*v;U(x,*s=ev1(*s))U(x=*v=v2[*b++](x,*s++),*--s=0))","    J(c==bG,Ax=*--s=gv[n];U(x,ev0())xR)","    J(c==bS,Ax=*s++,y=gv[n];gv[n]=y?y(x):x)","    J(c==bl,s+=n-1;*s=sqz(aV(tA,n,s-n+1)))","    J(c==bL,Ax=*s;U(xtt||xN==n,*s=el1(x))i(n,*--s=ii(x,n-1-i)))","    J(c==bz,b+=n*!tru(*s++))","    E(Q(c==bj)b+=n)))","  J(c\u003e=bs,A*v=l+c%8,x=*v;","   I(c\u003e=bd,*--s=x;*v=0)","   J(c\u003e=bg,U(*--s=x)xR)","   E(Q(c\u003e=bs)Ay=*s++;*v=x?x(y):y))","  J(c\u003e=bv,Ax=*s++;U(*s=v2[c-bv](x,*s)))","  E(U(*s=v1[c](*s))))"," I(!*s,eS(xx,(UC)_C(xz)[(C*)b-1-_C(xy)]))i(t+ns+nl-s-1,Ax=s[i+1];I(x,mr(x)))d--;/*Q(s==l-1)*/*s)",""],"e.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","S C b[ZP],*r=b;S I d;","SN V eC(){r=b;d=0;}","NI A e0(Qs)_(eC();Nn=min(Sn(s),32);r=b;*r++='\\'';Mc(r,s,n);r+=n;*r++=10;0)","NI A e1(Ax,Qs)_(x(e0(s)))","SN A e2(Ax,Ay,Qs)_(y(e1(x,s)))","SN A eN(OA*a,In,Qs)_(mrn(n,a);e0(s))","NI V eQ(Qs,Nn,Ni){I(++d\u003e=5,I(d==5,Mc(r,\" ..\\n\",4);r+=4)return)"," Qp=s+i,q=p,t=p;I h=64;W(p\u003es\u0026\u0026p\u003et-h\u0026\u0026p[-1]\u0026\u0026p[-1]-10,p--)W(q\u003cs+n\u0026\u0026q\u003c=t+h\u0026\u0026*q\u0026\u0026*q-10,q++)"," *r++=32;Mc(r,p,q-p);I(p\u003c=t-h,*r=r[1]='.')I(q\u003et+h,r[q-p-2]=r[q-p-1]='.')r+=q-p;*r++=10;"," Ms(r,32,t-p+1);r+=t-p+1;*r++='^';*r++=10;}","NI V eS(Ax/*0*/,Ni)_(eQ(xV,xn,i))","A3(try,x=dot(x,y);P(x,z(x))I(ztF\u0026\u0026zK\u003c3,z=z1(aCn(b,r-b)))eC();z)","A1(epr,write(2,b,r-b);r=b;x)","A1(err,XC(x=str0(x);e1(x,xV))P(x==au,aCn(b,r-b))e1(x,\"err\"))","NI A die(Qs)_(In=Sn(s);Cv[n+1];Mc(v,s,n);v[n]=10;write(2,v,n+1);exit(1);0)","","#define h(t,m)\\"," NI A0(e##t##0,e0(    #m))\\"," NI A1(e##t##1,e1(x,  #m))\\"," NI A2(e##t##2,e2(x,y,#m))\\"," NI AA(e##t##8,eN(a,n,#m))","EA",""],"f.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","//prng: xoshiro256+ (public domain) http://vigna.di.unimi.it/xorshift/ seeded with the central column of rule30, little-endian:","// \",\"/\"abcd\",'\"=0x\",/:+\"0123456789abcdef\"@(16#16)\\2/|+4 64#(n{(|(8#2)\\30)@2/'3'0,x,0}\\n=!2*n)@'n:256","S UL a[]={0xd5a986ae75c9a33b,0x1016d8e3483a8f0f,0x81f9e6260eb8e5df,0xfa9b718d8d0769bf};","UL rnd1()_(Lv=a[1]\u003c\u003c17;a[2]^=a[0];a[3]^=a[1];a[1]^=a[2];a[0]^=a[3];a[2]^=v;a[3]=rot(a[3],45);a[0]+a[3])","A1(prng,P(x==au,aV(tL,4,a))XZ(x=cL(rsh(4,x));Mc(a,xV,SZ a);x(au))"," Xz(UL v=gl(x);I(!v,v=now())i(ZZ(a),a[i]=v=v*6364136223846793005+1442695040888963407)au)et1(x)) //knuth mmix","S UI rm(UL m)_((UI)rnd1()*m\u003e\u003e32)","S V shf(L*r,Nn){i(n,Ij=rm(i+1);SWP(r[i],r[j]))}","S A ro(UL n,UL m)_(Ct=m?tZ(m-1):tL;Ax=an(t,n);P(t==tB,i(n,xb=rm(m))x)P(t==tH,i(n,xh=rm(m))x)P(t==tI,i(n,xi=rm(m))x)"," i(n,xl=rnd1())I(m,i(n,xl=(UL)xl%m))x)","S A de(UL n,UL m)_(P(n\u003em,el0())Ax=ro(n,0);i(n,UL k=m-n+i;xl%=k+1;j(i,B(xL[j]==xl,xl=k)))shf(xV,n);x)","S A rd(Ln,Lm)_(P(m\u003c0,ed0())n\u003c0?de(n-NL?-n:m,m):ro(n,m))","AL(rndD,add(ai(-1),AT(tD,add(al(1023ll\u003c\u003c52),N(rd(n,1ll\u003c\u003c52))))))","S ALA(rnd,Xz(rd(n,gl(x)))Xc(cC(add(xv-'A'?ac('a'):x,Nx(rd(n,26)))))Xd(mul(x,Nx(rndD(n))))XMT(idx(x,Nx(rd(n,xN))))et1(x))","","#define h(T)\\"," NI L f##T(OV*p,Nn,Lv)_(O T*a=p,q=v;P(v-q||!n,NL)Ii=0,g=ZA/SZ(*a),f=0;W(i\u003cn\u0026\u0026!f,j(g,f|=a[i++]==q))i-=g;j(g,B(a[i]==q)i++)i\u003cn?i:NL)\\"," NI V F##T(OV*p,Nm,TY(fB)f,OV*q,Nn,L*r){O T*a=q;i(n,r[i]=f(p,m,a[i]))}\\"," NI L fp##T(A*p,T v)_(Ax=*p;Nn=xn;Li=f##T(xV,n,v);P(i\u003c0,*p=apv(x,\u0026v);n)i)","h(B)h(H)h(I)h(L)","S L fA(Ax,Ay/*00*/)_(XA(i(xn,P(mtc_(xa,y),i))NL)i(xN,Az=ii(x,i);P(mtc_(z,y),z(0);i)z(0))NL)","L fAI(Ax/*0*/,Iv)_(fI(xV,xn,v))","I rnk(Ax/*0*/)_(XA(P(!xn,2)Iv=rnk(xx);P(v\u003c0,v)i(xn,P(v-rnk(xa),-1))v+1)XmM(rnk(xy))xtT) //-1 for mixed rank","I urnk(Ax/*0*/)_(XA(xn?urnk(xx)+1:2)XmM(urnk(xy))xtT)//assuming unirank","S A2(sdf,K(\"{a:\u0026/x;b:1+|/x;@[(b-a)#0N;|x-a;:;|!#x]y-a}\",x,y)) //small-domain find","A2(fnd,"," P(xtT\u0026\u0026!xtA\u0026\u0026!ytmMA,","  P(xtZ\u0026\u0026ytzZ||xt==TT[yt],","   P(xw\u003c2\u0026\u0026xn\u003e99\u0026\u0026yN\u003e99,sdf(x,y))","   V(f,T(\u0026fB,fH,fI,fL)[xw])Yt(x(az(f(xV,xn,gl(y)))))","   Az=aL(yn);Ii=yw;xe(ye(T(\u0026FB,FH,FI,FL)[i](xV,xn,f,yV,yn,zV);z)))","  Az=cn[tl];zR;x(y(ytt?z:rsh(yN,z))))"," Xm(Az=kv(\u0026x);idx(x,Nx(fnd(z,y))))"," Ik=urnk(x),l=urnk(y);P(k==l+1,x(y(az(fA(x,y)))))P(k\u003c=l,ear2(x,y,QUE))er2(x,y))","","A2(que,Xs(S O C s[][4]={\"\",\"j\",\"hex\"};Li=fI(s,ZZ(s),xv);T(\u0026des,js0,unh,ed1)[i\u003c0?ZZ(s):i](y))"," Xz(rnd(gl(x),y))Xt(et2(x,y))fnd(x,y))",""],"h.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","SN A flt(Ax,Ay,Cb)_(Q(xtF);P(xK-1,er2(x,y))Ym(K(\"{(!y)[i]!(. y)i:\u0026z~/:x@. y}\",x,y,ai(b)))"," x=Ny(ap1(x,yR));x=xN?Ny(cL(x)):x(oB);P(!xtt\u0026\u0026xN-yN,el2(x,y))"," Az=rsh(0,yR);i(yN,Ln=gl(ii(x,i));B(b\u0026\u0026n-(UI)n,z=ed1(z))j(b?n:!n,zq(ii(y,i))))x(y(z)))","V cyc(V*a,Nm,Nn){Q(m);W(2*m\u003c=n,Mc(a+m,a,m);m*=2)I(n\u003em,Mc(a+m,a,n-m))}","V ccp(OV*a,Nm,V*b,Nn){Q(m);Mc(b,a,min(m,n));cyc(b,m,n);}","ALA(rsh,Xt(rsh(n,enl(x)))"," XT(P(!xn,rsh(n,enl(fir(x))))P(n\u003c0,n-NL?rev(rsh(-n,rev(x))):x)Ay=an(xt,n);ccp(xV,xn*xW,yV,n*xW);x(ytA?sqz(mRa(y)):y))"," XM(Ay=kv(\u0026x);aM(x,Nx(ear2(az(n),y,RSH))))Q(xtm)Ay=kv(\u0026x);x=Ny(rsh(n,x));y=Nx(rsh(n,y));am(x,y))","S A slc(Ax/*0*/,Ni,Nj)_(Q(xtT\u0026\u0026i\u003c=j\u0026\u0026i\u003c=xn)Ay=an(xt,j-i);Mc(yV,xV+i*xW,(j-i)*xW);XA(sqz(mRa(y)))y)","S ALA(chp,P(n\u003c0,ed1(x))Lm=(xn+n-1)/n;Ay=aA(m);i(m,ya=slc(x,n*i,min(xn,n*i+n)))x(y))","S A shp(O L*s,Nn,Ax,Lm)_(Q(xtT)Q(xn)Q(n)P(n==1,rsh(m**s,x))x=shp(s+1,n-1,x,m**s);s[1]?chp(s[1],x):rsh(m**s,enl(x)))","S A rshL(O L*s,Nn,Ax)_(Xt(rshL(s,n,enl(x)))XmM(en1(x))P(!n,fir(x))P(n\u003e8,ez1(x))"," P(n==1\u0026\u0026*s==NL,x)I(n==2,P(*s==NL,chp(s[1],x))P(s[1]==NL,K(\"{((-x)!(#y)*!x)_y}\",az(*s),x)))P(!xn,rshL(s,n,enl(fir(x))))"," Lm=1;i(n,P(s[i]\u003c0,ed1(x))m*=max(1,s[i]))x=N(rsh(m,x));shp(s,n,x,1))","A2(hsh,Xz(rsh(gl(x),y))XZ(x=Ny(cL(x));x(rshL(xL,xn,y)))XF(flt(x,y,1))"," XT(P(ytm||ytM\u0026\u0026xtS,a2t(x,ap1(y,xR),yt))et2(x,y))et2(x,y))","ALA(drp,XT(n*=n!=NL;P(-n\u003c=(UL)xn\u0026\u0026xr==1,I(xtA,mrn(-n,xA+xn+n))AN(xn+n,x))x(slc(x,max(0,min((L)xn,n)),max(0,min((L)xn,xn+n)))))"," Xm(Ay=kv(\u0026x);am(Ny(drp(n,x)),Nx(drp(n,y))))XM(Ay=kv(\u0026x);aM(x,Nx(eac2f(az(n),y,und))))er1(x))","S AAL(rmv,XT(P(!in(i,xn),x)Ay=an(xt,xn-1);Mc(yV,xV,i*xW);Mc(yV+i*xW,xV+i*xW+xW,(xn-i-1)*xW);I(xtA,y=sqz(mRa(y)))x(y))et1(x))","S A2(cut,Q(xtZ)Q(ytMT)K(\"{y$[|/0\u003c':x,#y;`err\\\"domain\\\";x+!'1_-':x,#y]}\",x,y))","A2(und,Xz(drp(gl(x),y))XF(flt(x,y,0))Xm(Az=kv(\u0026x);y=fnd(xR,y);P(!y,x(z(0)))yR;am(Nz(und(x,y)),Nx(und(z,y))))"," P(xtZ\u0026\u0026ytMT,cut(x,y))P(xtMT\u0026\u0026ytz,rmv(x,gl(y)))Ym(K(\"{((!y)^x)#y}\",x,y))YM(K(\"{+x_+y}\",x,y))et2(x,y))","A1(enl,Xi(aV(tZ(xv),1,\u0026x))XF(a1(x))XP(aV(TT[xt],1,\u0026x))Xt(x(aV(TT[xt],1,xV)))Xm(Ay=kv(\u0026x);aM(x,eac1f(y,enl)))a1(x))","A2(cat,P(xtm\u0026\u0026ytm,Az=kv(\u0026y);K(\"@[;;:;]\",x,y,z))Xmt(cat(enl(x),y))Ymt(cat(x,enl(y)))"," P(xtM||ytM,","  P(xtT||ytT,x=Ny(cA(x));y=Nx(cA(y));cat(x,y))","  P(!xtM||!ytM,et2(x,y))","  P(!mtc_(xx,yx),ed2(x,y))","  Az=eac2f(_R(xy),_R(yy),cat);x(y(z?aM(_R(xx),z):0)))"," P(!yn,y(x))P(!xn,x(y))I(xtZ\u0026\u0026ytzZ,N(sup(\u0026x,\u0026y)))I(xt-yt,x=cA(x);y=cA(y))"," Nm=xn,n=yn,w=xW;x=room(m+n,x);Mc(xV+m*w,yV,n*w);I(ytA,yr-1?mRa(y):AN(0,y))y(x))","A2(apd,Q(xtMT);Nn=xn;P(!n,enl(x(y)))"," P(xtB\u0026\u0026yti\u0026\u0026yv==(B)yv||xtC\u0026\u0026ytc,apc(x,yv))"," P(xtH\u0026\u0026yti\u0026\u0026yv==(H)yv,x=room(n+1,x);xH[n]=yv;x)"," P(xtI\u0026\u0026yti||xtS\u0026\u0026yts ,x=room(n+1,x);xI[n]=yv;x)"," P(xtL\u0026\u0026yti           ,x=room(n+1,x);xL[n]=yv;x)"," P(xtL\u0026\u0026ytl||xtD\u0026\u0026ytd ,x=room(n+1,x);xL[n]=gl(y);x)"," P(xtZ\u0026\u0026ytz,N(sup(\u0026x,\u0026y));apd(x,y))"," XM(P(!ytm||!mtc_(xx,yx),apd(Ny(cA(x)),y))x=mut(x);Az=xy=mut(xy);i(zn,_q(za,ii(yy,i)))y(x))"," P(!xtA\u0026\u0026(!ytt||xt-TT[yt]),apd(Ny(cA(x)),y))"," Lv=xtA?(L)y:gl(y);apv(x,\u0026v))","A apv(Ax,OV*v )_(Q(xtT);     Nn=xn;x=room(n+1,x);Mc(xV+n*xW,v,xW);x)","A apc(Ax,Cc   )_(Q(xtC||xtB);Nn=xn;x=room(n+1,x);xC[n]=c;x)","A cts(Ax,Qs,Nm)_(Q(xtC);     Nn=xn;x=room(n+m,x);Mc(xV+n,s,m);x)","S A insL(Ax,Li,Lj,Ay)_(YF(insL(x,i,j,Nx(y(y1(slc(x,i,j))))))Xmt(et2(x,y))Ymt(insL(x,i,j,enl(y)))P(xtM||ytM,en2(x,y))"," P(!in(i,j+1)||!in(j,xN+1),ei2(x,y))P(xtZ\u0026\u0026ytZ\u0026\u0026xt-yt,N(sup(\u0026x,\u0026y));insL(x,i,j,y))P(xt-yt,insL(cA(x),i,j,cA(y)))"," Az=an(xt,xn-j+i+yn);Mc(zV,xV,i*xW);Mc(zV+i*xW,yV,yn*xW);Mc(zV+(i+yn)*xW,xV+j*xW,(xn-j)*xW);"," I(xtR,I(xr-1,mRn(i,xA);mRn(xn-j,xA+j))E(mrn(j-i,xA+i);AN(0,x))I(yr-1,mRa(y))E(AN(0,y)))x(y(z)))","S A3(ins3,Yz(Li=gl(y);insL(x,i,i,z))YZ(P(yN-2,el2(x,z(y)))Li=gl(ii(y,0)),j=gl(las(y));insL(x,i,j,z))et2(x,z(y)))","AA(ins,n==3?ins3(*a,a[1],a[2]):en8(a,n))",""],"i.c":["// ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#include\u003csys/socket.h\u003e","#include\u003csys/wait.h\u003e","#include\u003cnetinet/in.h\u003e","#include\u003cnetinet/tcp.h\u003e","#include\u003cfcntl.h\u003e","#include\u003carpa/inet.h\u003e","#include\u003cunistd.h\u003e","#include\u003csys/time.h\u003e","#undef __USE_EXTERN_INLINES","#include\u003csys/stat.h\u003e","#include\u003csys/mman.h\u003e","#include\"a.h\"","S UI addr(Q*p)_(Qs=*p;P(!*s,0x0100007f)UC v[4];i(4,I(i,P(*s-'.',ed0())s++)v[i]=pu(\u0026s);P(v[i]\u003e255,ed0()))*p=s;*(UI*)v)","S I skt(UI h,UH p)_(If=socket(AF_INET,SOCK_STREAM,0);P(f\u003c0,eo0())Iv=setsockopt(f,IPPROTO_TCP,TCP_NODELAY,(I[]){1},4);P(v\u003c0,eo0())"," ST sockaddr_in a;a.sin_family=AF_INET;a.sin_addr.s_addr=h;a.sin_port=rot(p,8);P(connect(f,(ST sockaddr*)\u0026a,SZ a)\u003c0,eo0())f)","I osf(Qs,L fl)_(P(!SC(s,':'),If=open(s,fl,0666);P(f\u003c3/*fbsd*/,eo0())f)UI h=addr(\u0026s);P(*s-':',ed0())s++;UL p=pu(\u0026s);P(*s,ed0())skt(h,p))","S I o(Ax/*1*/,I fl)_(Xz(gl(x))Xs(Lv=xv;P(!v,1)Qs=qs(\u0026v);osf(s,fl))XC(x=str0(x);xe(osf(xV,fl)))et1(x))","S I fmd(If)_(ST stat s;fstat(f,\u0026s)\u003c0?0:s.st_mode)","A1(opn,Xz(x)az(N(o(x,O_RDWR|O_CREAT))))","AL(cls,close(n);au)","A1(u0c,x=N(spl(N(u1c(x))));xn\u0026\u0026!_n(xA[xn-1])?drp(-1,x):x)","S V d(V*p,Qs){*(A*)p=apc(cts(*(A*)p,s,Sn(s)),10);}","A1(u1c,Xz(If=gl(x);Cb[1024];x=oC;W(1,Ik=read(f,b,SZ b);P(k\u003c0,eo1(x))x=cts(x,b,k);P(k-SZ b,x))0)"," If=N(o(x,O_RDONLY));P(f\u003c3,u1c(ai(f)))Im=fmd(f);"," P(S_ISDIR(m),Ax=oC;dir(f,d,\u0026x);close(f);x)"," P(S_ISREG(m),Ln=lseek(f,0,SEEK_END);P(n\u003c0,close(f);eo0())P(!n,oC)Ax=mf(f,n);close(f);x)"," Ay=u1c(ai(f));close(f);y)","A2(v0c,YA(v0c(x,Nx(jc(10,y))))YC(v1c(x,apc(y,10)))et2(x,y))","A2(v1c,P(!ytC,et2(x,y))"," Xz(If=gl(x);Nn=yn;Qs=yV;P(f\u003c3||!S_ISREG(fmd(f)),ye(Az=au;W(n\u003e0,Lk=write(f,s,n);I(k\u003c0,z=eo0())B(k\u003c=0)s+=k;n-=k)z))","    ftruncate(f,n);V*p=mmap(0,n,PROT_READ|PROT_WRITE,MAP_SHARED,f,0);Mc(p,s,n);munmap(p,n);y(au))"," If=N(o(x,O_RDWR|O_CREAT|O_TRUNC));Az=v1c(ai(f),y);f\u003e2\u0026\u0026close(f);z)","","S A rda(If)_(Ax=aC(256-ZA);L m=0,k;"," W((k=read(f,xV+m,xn-m))\u003e0,m+=k;I(m+1000000\u003exn\u0026\u00262*m\u003exn,Ay=aC(2*xn+ZA);Mc(yV,xV,m);x=x(y)))close(f);AN(m,x))","S I lC(Ax)_(P(!xtA,0)i(xn,P(_t(xa)-tC,0))1) //list of strings?","A1(frk,P(!xtA||xn-2,et1(x))Ay=kv(\u0026x);P(!lC(x)||!ytC,ed2(x,y))x=Ny(eac1f(x,str0));Q a[xn+1];i(xn,a[i]=_V(xa))a[xn]=0;"," I p[4];pipe(p);pipe(p+2);I pid=fork();P(!pid,dup2(*p,0);dup2(p[3],1);i(4,close(p[i]))exit(execve(*a,(C**)a,(C*O*)env));0)"," close(*p);close(p[3]);N(v0c(ai(p[1]),x(y)));close(p[1]);Ax=rda(p[2]);wait4(pid,0,0,0);x)","L now()_(ST timeval t;gettimeofday(\u0026t,0);1000000ll*t.tv_sec+t.tv_usec)",""],"j.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","S Q JE=\"\\\"\\\\/\\b\\f\\n\\r\\t\",EJ=\"\\\"\\\\/bfnrt\";S C*s;//34='\"',44=',',48='0',92='\\\\',97='a'","","S A0 jx;S I w(Cc)_(c\u003c33\u0026\u00261ll\u003c\u003cc\u00260x100002600/*32\\t\\r\\n*/)S C jw()_(Cc;W(w(c=*s),s++)c)","S A0(jd,Im=*s=='-';s+=m;Cc=*s++;P(!c09(c),0)Dv=c-48;W(c09(*s),v*=10;v+=*s++-48)"," I(*s=='.',s++;D t=1;W(c09(*s),t/=10;v+=t*(*s++-48)))"," I((*s|32)=='e',s++;s+=*s=='+';L e=pl((V*)\u0026s);D t=10;I(e\u003c0,e=-e;t=.1)P(e\u003e308,0)i(e,v*=t))ad(m?-v:v))","S I ju(Qs)_(Iv=0;i(4,UC c=*s++,d=c-48;v\u003c\u003c=4;v|=d\u003c10?d:(d=(c|32)-97)\u003c6?d+10:-1)v)","S A0(js,UC c;C*p=++s;Nn=0;"," W((c=*p)-34,P(c\u003c32,s=p;0)p++;I(c==92,c=*p++;P(c\u003c32,s=p;0)n++;I(c=='u',Lv=ju(p);P(v\u003c0,s=p;0)p+=4;n+=4-(v\u003e127)-(v\u003e2047))))"," Ax=aC(p-s-n);p=s;C*r=xC;"," W((c=*p++)-34,I(c==92,c=*p++;","  I(c-'u',Ij=si(EJ,c);P(j\u003e=SZ EJ,s=p-1;x(0))c=JE[j])","  E(Iv=ju(p);p+=4;I(v\u003c128,c=v)J(v\u003c2048,*r++=192|v\u003e\u003e6;c=128|63\u0026v)E(*r++=224|v\u003e\u003e12;*r++=128|63\u0026v\u003e\u003e6;c=128|63\u0026v)))*r++=c)"," s=p;x)","S A0(ja,s++;Ax=oA;P(jw()==']',s++;x)W(1,xq(Nx(jx()));P(*s==']',s++;x)Nx(*s==44);s++)0)","S A0(jo,s++;Ax=oS,y=oA;Cc=jw();P(c=='}',s++;am(x,y))"," W(c==34,Az=js();B(!z)xq(cS(z));B(jw()-':')s++;z=jx();B(!z)yq(z);P(*s=='}',s++;am(x,y))B(*s-44)s++;c=jw())x(y(0)))","S I jp(Qp)_(s++;W(*p\u0026\u0026*p++==*s++)!*p)S A0(jt,jp(\"true\"+1)?au+1:0)S A0(jf,jp(\"false\"+1)?au:0)S A0(jN,jp(\"null\"+1)?_R(cn[td]):0)","S A0(jx,Ax=T(\u0026jf,jt,jN,ja,jo,js,jd)[si(\"ftn[{\\\"\",jw())]();jw();x)","A1(js0,XC(x=str0(x);s=xV;Ay=jx();I(y\u0026\u0026*s,y=y(0))P(!y,ep0();eS(x,s-xC);x(0))x(y))Xc(js0(enl(x)))et1(x))","","S V JX(A);S N nX(A);S UC t[256];S V it(){Ms(t,5,32);t[127]=5;i(SZ JE,t[JE[i]]=1)}","S N nC(Qp,Nn)_(I(!*t,it())Nm=2+n;i(n,m+=t[(UC)p[i]])m)","S V JC(Qp,Nn){I(!*t,it())*s++=34;UC c;"," i(n,SW(t[c=*p++],C(0,*s++=c)C(1,*s++=92;*s++=EJ[si(JE,c)])D(Mc(s,\"\\\\u00\",4);s+=4;*s++=HEX[c\u003e\u003e4];*s++=HEX[c\u002615])))"," *s++=34;}","S N nl(Lv)_(P(v==NL,4)Nn=v\u003c0?(v=-v),2:1;UL m=10;W(m\u003c=v\u0026\u0026n\u003c19,n++;m*=10)n)","S V Jl(Lv){s=v-NL?sl(s,v):Mc(s,\"null\",4)+4;}","S N nx(Ax/*0*/)_(Xi(nl(xv))Xl(nl(*xL))Xd(Dv=*xD;P(v==(L)v,nl(v))P(v!=v,4)Cb[32];sd(b,*(L*)\u0026v)-b)Xc(Cc=xv;nC(\u0026c,1))"," XC(nC(xC,xn))Xu(x-au?4:5)Xm(nx(xx)+nx(xy)-1-!_N(xx))XMT(Nn=xN,m=1+n+!n;i(n,m+=nX(ii(x,i)))m)nX(str(xR)))","S V Jx(Ax/*0*/){switch(xt){C(ti,s=sl(s,xv))C(tl,Jl(*xL))C(tc,Cc=xv;JC(\u0026c,1))C(tC,JC(xC,xn))"," C(td,Dv=*xD;s=v==(L)v?sl(s,v):v!=v?Mc(s,\"null\",4)+4:sd(s,*(L*)\u0026v))C(tu,Nn=x-au?4:5;Mc(s,x-au?\"true\":\"false\",n);s+=n)"," C(tm,*s++='{';i(xN,I(i,*s++=44)JX(ii(xx,i));*s++=':';JX(ii(xy,i)))*s++='}')"," D(I(xtMT,*s++='[';i(xN,I(i,*s++=44)JX(ii(x,i)))*s++=']')E(JX(str(xR))))}}","S N nX(Ax/*1*/)_(Nn=nx(x);x(0);n)","S V JX(Ax/*1*/){Jx(x);x(0);}","A1(js1,Ay=aC(nx(x));s=yC;JX(x);Q(s==yC+yn);y)",""],"k.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#include\"k.h\"","C TK(K x)_(Tk[xt])","N NK(K x)_(xn)","V*dK(K x)_(xV)","S V VK(Ct,V*a,K x){I(xtZ,x=cT[t](x))Mc(a,xV,xn*TZ[t]);I(xtR,I(xr==1,AN(0,x))E(mRn(xn,xV)))x(0);}","","//            constructors                                                    accessors","//    atom                     list                                   atom                 list","K Kc(Cv)_(ac(v))     K KC(C*a,Nn)_(aV(tC,n,a))                   C cK(K x)_(xv)  V CK(C*a,K x){VK(tC,a,x);}","K Ks(C*s)_(sym(s))   K KS(C**a,Nn)_(Ax=aS(n);i(n,xi=sym(a[i]))x)","K Ki(Iv)_(az(v))     K KI(I*a,Nn)_(aV(tI,n,a))                   I iK(K x)_(xv)  V IK(I*a,K x){VK(tI,a,x);}","K Kf(Dv)_(ad(v))     K KF(D*a,Nn)_(aV(tD,n,a))                   D fK(K x)_(*xD) V FK(D*a,K x){VK(tD,a,x);}","                     K KL(K*a,Nn)_(a?aV(tA,n,a):aA(n))           V LK(K*a,K x){VK(tA,a,x);}","K Kp(V*p)_(al((L)p))","","V KA(Qs,K x){x=dmd(A(as(sym(s)),oA,av,x),4);if(x)mr(x);}","V KR(Qs,V*f,In)_(KA(s,ae(f,n)))","K KE(Qs)_(e0(s))","","K ref(K x)_(xR)","V unref(K x){mr(x);}","","K K0(K*p,Qs,K*a,In)_(evK(p,s,a,n))",""],"m.c":["// ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#include\"a.h\"","#include\u003cfcntl.h\u003e","#include\u003csys/mman.h\u003e","#ifndef MAP_NORESERVE"," #define MAP_NORESERVE 0","#endif","S I nm;S ST{V*p;Ln;}m[8];SN A0(oom,die(\"oom\"))","S V*mm(V*p,Nn,If)_(p=mmap(p,n,PROT_READ|PROT_WRITE,MAP_NORESERVE|MAP_PRIVATE|(p?MAP_FIXED:0)|(f\u003c0?MAP_ANON:0),f,0);"," P((L)p\u003cZP,eo0();(V*)0)P(f\u003e0,p)I(nm==ZZ(m),die(\"mmap lmt\"))*(C*)p=nm;m[nm++]=(TY(*m)){p,n};p)","S A mu(V*p,Nn)_(munmap(p,n);i(ZZ(m),B(m[i].p==p,Mc(m+i,m+i+1,(--nm-i)*SZ m[0])));0)","S A mx(Nn)_(V*p=mm(0,n,-1);P(!p,oom())*(C*)p=0;(A)(p+ZA))","A mf(If,Nn)_(V*p=mm(0,ZP+n,-1);P(!p,0)Ax=(A)(p+ZP);*(C*)p=1;x=AT(tC,AN(n,x));xR;P(!mm(p+ZP,n,f),x(0))x)","","S Az[SZ(N)==4?27:35];S I lck;","S A mb(Cb,Ax)_(xX=0;xr=0;DBG(AN(-1,AT(0,x));*xL=0);xU=b;x)","V mrn(Nn,OA*a){i(n,mr(a[i]))}V mRn(Nn,OA*a){i(n,_R(a[i]))}A1(mRa,i(xn,_R(xa))x)","A1(m0,DBG(lck++);Q(x);XP(0)Q(xr\u003e0);P(--xr,0)Cb=xU;P(!b,x=AT(tn,x))xX=z[b];z[b]=(A)xV;XR(mrn(xn,xA);x)x)","A1(m1,DBG(lck--);P(!x,0)P(xt==tn,mu(xV-ZP,xn+ZP))DBG(Ms(xV,0xab,xZ);DBG(AN(-1,AT(0,x))));0)A1(mr,m1(m0(x)))","A an(Ct,Nn)_(Q(!lck);Q(c3(tA,t,tn-1));Q(!TP(t));Cb=59-__builtin_clzll(ZA|ZA-1+n*TZ[t]);P(n\u003e1ull\u003c\u003cZZ(z)||b\u003eZZ(z)-2,oom())"," Ax=z[b];Ii=b;W(!z[i],i++)I(i\u003cZZ(z)-1,x=z[i];z[i]=xX)E(x=mb(b,mx(ZA\u003c\u003c(i=max(b,24)))))"," I(b\u003ci,xU=b;W(b\u003ci--,z[i]=mb(i,(A)x+(ZA\u003c\u003ci))))xr=1;AT(t,AN(n,x)))","A aV(Ct,Nn,OV*v)_(Ax=an(t,n);Mc(xV,v,n*TZ[t]);x)A1(ax,xr\u003e1?xr--,an(xt,xn):x)A0(aa0,am(enl(as(0)),enl(au)))","A a2t(Ax,Ay,Ct)_(Az=an(t,2);zx=x;zy=y;z)","A1(a1,Ay=an(tA,1);yx=x;y)A3(a3,Au=an(tA,3);ux=x;uy=y;uz=z;u)A2(a2,a2t(x,y,tA))A2(aM,a2t(x,y,tM))A2(am,a2t(x,y,tm))","AL(aA,an(tA,n))AL(aB,an(tB,n))AL(aC,an(tC,n))AL(aI,an(tI,n))AL(aL,an(tL,n))AL(aD,an(tD,n))AL(aS,an(tS,n))","A al(Lv)_(aV(tl,1,\u0026v))A ad(Dv)_(aV(td,1,\u0026v))A aCn(Qs,Nn)_(aV(tC,n,s))A aCm(Qp,Qq)_(aCn(p,q-p))AQ(aCz,aCn(s,Sn(s)))","C tZ(Lv)_(v==(B)v?tB:v==(H)v?tH:v==(I)v?tI:tL)A kv(A*p)_(Ax=*p;Q(xn==2);P(xr\u003e1,--xr;*p=_R(xx);_R(xy))*p=xx;AN(0,x);x(xy))","AL(az,n-(I)n?al(n):ai(n))A1(mut,XP(x)P(xr==1,x)x=x(aV(xt,xn,xV));XR(mRa(x))x)","ALA(room,P(xr==1\u0026\u0026n*xW\u003c=xZ,AN(n,x))Ay=an(xt,n);Mc(yV,xV,xn*xW);I(ytR,I(xr==1,AN(0,x))E(i(xn,_R(ya))))x(y))","L gl_(Ax)_(XP(xv)*xL)L gl(Ax)_(Lv=gl_(x);x(0);v)D gd(Ax)_(Dv=*xD;x(0);v)","","S C s0[1\u003c\u003c16],*s1=s0+1;Q qs(O L*p)_(*p\u003c0?s0-*p:(V*)p)","AQ(sym,Nn=Sn(s);P(n\u003c4||(n==4\u0026\u0026!(s[3]\u0026128)),Iv=0;Mc(\u0026v,s,n);as(v))Qp=s0+1;W(p\u003cs1,P(!SQ(p,s),as(s0-p))p+=Sn(p)+1)"," n++;P(s1+n\u003es0+SZ s0,die(\"syms oom\"))Mc(s1,s,n);s1+=n;as(s0-s1+n))","","S AQ(cps,Ax=N(pk(s));cpl(str0(aCz(s)),x,oS))","S AQ(bscd,P(!*s,Cb[256];getcwd(b,SZ b)?eo0():aCz(b))chdir(s)?eo0():au)","S AQ(bsbs,exit(0);0)","S AQ(bsd,P(!*s,aCz(gp))s+=*s=='.';Nn=Sn(s);P(n+2\u003eSZ(gp),ez0())Mc(gp,s,n+1);au)","S AQ(bsv,K(\"{`0:($!h),'\\\":\\\",'`k'. h:(\u0026x=^`o`p`q`r`u`v`w`e?@'h)#h:``repl_.:0#`}\",ai(!!s)))","S AQ(bsf,bsv(0))","S AQ(bst,Ln=s[-1]=='t'\u0026\u0026*s==':'?++s,pl(\u0026s):1,t=now();Ax=N(cps(s));i(n,mr(Nx(run(x,0,0))))x(az((now()-t+500)/1000)))","S C*skp(C*s)_(W(!MQ(s,\"/\\n\",2),C*p=SS(s+1,\"\\n\\\\\\n\");s=p?p+3:s+Sn(s))s)","S I ln(Qs)_(Ax=evs(s);P(x,x(out(x));1)epr(0))","S A lns(C*p,Nn)_(Q(n)P(p[n-1]-10,e0(\"eoleof\"))p[n-1]=0;I(!MQ(p,\"#!\",2),p=SC0(p+2,10))"," C*v=p;W(p\u003cv+n,C*q=p=skp(p);W(*q\u0026\u0026(*q-10||si(\" }\",q[1])\u003c2),q++)*q=0;N(ln(p));p=q+1)au)","AQ(bsl,If=open(s,O_RDONLY,0600);P(f\u003c0,eo0())Ln=lseek(f,0,2);P(n\u003c0,ei0())C*p=mm(0,n,f);close(f);P(!n,au)P(!p,0)Ax=lns(p,n);mu(p,n);x)","S AQ(bsL,C p[SZ gp];Mc(p,gp,SZ gp);Ax=N(bsd(s));C q[3+SZ gp];Nn=Sn(gp);Mc(q,gp,n);Mc(q+n,\".k\",3);bsl(q);Mc(gp,p,SZ gp);x)","AQ(evs,P(*s-'\\\\',Ax=N(cps(s));x(run(x,0,0)))Cc=s[1],d=s[2];P(c=='c'\u0026\u0026d=='d'\u0026\u0026(!s[3]||s[3]==32),bscd(s+3+(s[3]==32)))"," P(!d||d==32||d==':',T(\u0026bsL,bsl,bst,bsd,bsbs,bsf,bsv,bsm,en0)[si(\"Lltd\\\\fvm\",c)](s+2+(d==32)))"," K(\"0x0a\\\\`x(,,\\\"/bin/sh\\\"),,:\",aCz(s+1)))","","C gp[32];I gn,gk[256];A gv[256],cns,ce[tn],cn[tn],ci[2][5];Q*argv,*env;","I rep()_(Cb[256],*s=b,*q;W(1,Ln=read(0,s,b-s+SZ b);P(n\u003c0,0)s+=n;q=MC(s-n,10,n);","                             P(q,C*p=b;W(q,*q=0;ln(p);p=q+1;q=MC(p,10,s-p))Mc(b,p,s-p);s+=b-p;1)","                             P(b+SZ b\u003c=s,die(\"longline\")))1)","V repl(){W(rep())}","L k(Qs)_(Ax=N(evs(s));Xz(gl(x))x(0))","V kf(Qs,L(*f)(L)){dmd(A(sym(s),au,av,AT(te,(A)f)),4);}","V kinit(){S I l;P(l)l=1;"," z[ZZ(z)-1]=1;Ax=AN(0,aA(32)),*c=xA;i(tS-tA+1,*c++=ce[tA+i]=an(tA+i,0))*c++=ce[tm]=am(oS,oA);"," cn[tA]=ce[tC];*c++=cn[tB]=cn[tH]=cn[tI]=cn[tL]=cn[ti]=cn[tl]=al(NL);*c++=cn[tD]=cn[td]=ad(ND);"," cn[tC]=cn[tc]=ac(32);cn[tS]=cn[ts]=as(0);i(tn-to,cn[to+i]=au)","      ci[0][0]=ai(0);     ci[0][1]=ai(1);*c++=ci[0][2]=al(WL);*c++=ci[0][3]=al(-WL);ci[0][4]=cn[tL];"," *c++=ci[1][0]=ad(0);*c++=ci[1][1]=ad(1);*c++=ci[1][2]=ad(WD);*c++=ci[1][3]=ad(-WD);ci[1][4]=cn[tD];"," xn=c-xA;Q(xn\u003c=32);cns=x;}","V kargs(In,Q*a){argv=(Q*)a;env=(Q*)a+n+1;n=max(0,n-2);Ax=n?aA(n):oA;i(n,xa=aCz(a[2+i]))gn=1;*gk='x';*gv=x;}","","A AT(UL t,Ax)_(Q(c3(0,t,tn));P(TP(t),x=Lt(t)|x\u003c\u003c8\u003e\u003e8)_t1(x)=t;x)","A AV(UL v,Ax)_(Q(v\u003c32);x\u0026~31ll|v)","A AW( C w,Ax)_(Q(w\u003c6);xE=w;x)","A AK( C k,Ax)_(Q(k\u003c9);xk=k;x)","A AO(UC o,Ax)_(Xs(x\u0026~(0xffll\u003c\u003c32)|(UL)o\u003c\u003c32)xB[-13]=o;x)","A AN(  Nn,Ax)_(Q(n\u003c1ll\u003c\u003c48||n==-1);xL[-1]=n;x)","A1(_R,Q(x);XP(x)Q(xr\u003e=0);xr++;x)","","SN I ow(Qs,Nn)_(write(1,s,n))","SN V o8(Lv){Cb[16],*s=b;i(16,Cc=v\u003e\u003e4*(15-i)\u002615;*s++=\"0W\"[9\u003cc]+c)ow(b,16);}","I os(Qs)_(ow(s,Sn(s)))","L ov_(Qs,Lv)_(os(s);o8(v);ow(\"\\n\",1);v)","","#define mms(a...) i(nm,V*p=m[i].p,*q=p+m[i].n;If=!!*(C*)p;a)","#define obs(a...) mms(Ax=(A)p+ZA+ZP*f,y=(A)q;W(x\u003cy,a;x+=xZ+ZA))","#define xys(a...) obs(I(xtR\u0026\u0026xr,i(xn,Ay=xa;a)))","#define rts(a...) {i(gn,Ax=gv[i];I(x,a))Ax=cns;a;}","SN V od(Lv){Cb[32];ow(b,sl(b,v)-b);}","SN V osd(Qs,Lv){os(s);od(v);}","SN A1(ox,o8(x);osd(\" U\",xU);Ct=_t1(x);os(\" t\");I(c3(1,t,tn),ow(\u0026TS[t],1))E(od(t))"," osd(\" r\",xr);osd(\"=\",xm);osd(\" n\",xn);i(min(5,xZ/8),os(\" \");o8(xl))os(\"\\n\");x)","AQ(bsm,obs(xm=0)xys(I(!ytP,_m(y)++))rts(I(!xtP,xm++))","// In=0;obs(ox(x);n++);osd(\"nObjs:\",n)","// os(\"mapped regions:\");mms(o8((L)p);os(\"-\");o8((L)q);osd(\" F\",*(C*)p);osd(\" N\",q-p))"," obs(I(!c3(tA,xt,tn-1)\u0026\u0026xr,os(\"!type:\");ox(x)))"," obs(I(xr-xm,os(\"!refc:\");ox(x)))"," xys(I(!yt,os(\"!dngl:\");ox(x);ox(y)))au)",""],"o.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","I mtc_(Ax,Ay/*00*/)_(P(x==y,1)P(xtz\u0026\u0026ytz,gl_(x)==gl_(y))P(xts\u0026\u0026yts,xv==yv)"," P(xtZ\u0026\u0026ytZ\u0026\u0026xt-yt\u0026\u0026xn==yn,xR;yR;sup(\u0026x,\u0026y);x(y(!MQ(xV,yV,xn*TZ[xt]))))P(xt-yt||xtP||(xtr\u0026\u0026xE-yE)||xn-yn,0)"," P(!xtR,i(xn*xW,P(xc-yc,0))1)P(c3(tB,xt,tS)\u0026\u0026xt==yt\u0026\u0026xn==yn,!MQ(xV,yV,xn*TZ[xt]))i(xn,P(!mtc_(xa,ya),0))1)","A2(mtc,x(y(ai(mtc_(x,y)))))","S O UL o=(-1ull\u003e\u003e12)-1;S L t(Lv)_(v^(UL)(v\u003e\u003e63)\u003e\u003e1)S L ofp1(Lv)_(t(v)+o)S L ofp0(Lv)_(t(v-o))//ordered floating point","V OFP1(Ax/*!*/){Q(xtdD||xtlL)i(PD(xn,xL),xl=ofp1(xl))}L ofpd1(Dv)_(ofp1(*(L*)\u0026v))","V OFP0(Ax/*!*/){Q(xtdD||xtlL)i(PD(xn,xL),xl=ofp0(xl))}D ofpd0(Lv)_(*(D*)T(ofp0(v)))","A1(ordD,Q(xtdD);x=AT(xt-tD+tL,mut(x));OFP1(x);x)","S C ordt(Ax)_(xtz?tl:xtZ?tL:xt)","S I qL(Li,Lj)_(i\u003cj?-1:i\u003ej)","I qD(D u,Dv)_(qL(ofpd1(u),ofpd1(v)))","I qA(Ax,Ay/*00*/)_(P(mtc_(x,y),0)P(xtd\u0026\u0026ytd,qD(*xD,*yD))P(xtzc\u0026\u0026ytd,qD(gl_(x),*yD))P(xtd\u0026\u0026ytzc,qD(*xD,gl_(y)))"," Iv=ordt(x)-ordt(y);P(v,v)Xzc(qL(gl_(x),gl_(y)))Xd(*xD\u003c*yD?-1:*xD\u003e*yD?1:0)Xs(SQ(qs(\u0026x),qs(\u0026y)))"," I(!xtP,Iv=qL(xn,yn);XT(i(min(xn,yn),Az=ii(x,i),u=ii(y,i);I d=qA(z,u);mr(z(u));P(d,d))v))qL(x,y))","S I*ascZ(O UC*v,UC*g,I*a,I*b,In,I w)_(UI c[257];tilV(a,n,2);"," j(w,Ms(c,0,SZ c);i(n,g[i]=v[w*a[i]+j])i(n,c[g[i]+1]++)I(c[1+*g]-n,i(255,c[i+1]+=c[i])i(n,b[c[g[i]]++]=a[i])SWP(b,a)))a)","S V mrg(OA*v,I*p,I*p1,I*q,I*q1,I*r){W(p\u003cp1\u0026\u0026q\u003cq1,*r++=qA(v[*p],v[*q])\u003c=0?*p++:*q++)Mc(r,p\u003cp1?p:q,p1-p+q1-q\u003c\u003c2);}","S V ascA(OA*v,I*a,In,I*b){P(n\u003c2,I(n,*b=*a);)I m=n/2;ascA(v,a+m,n-m,b+m);ascA(v,a,m,a+m);mrg(v,a+m,a+2*m,b+m,b+n,b);}","A1(asc,Xt(opn(x))Xm(K(\"{(!x)@\u003c. x}\",x))XM(K(\"{(!#x){x@\u003cy x}/|.+x}\",x))XS(asc(str(x)))XD(asc(ordD(x)))In=xn;P(n-xn,ez1(x))"," XA(Im=n/2;OA*v=xA;Ay=aI(n),z=aI(n-m);I*a=yV,*b=zV;tilV(a,n,2);ascA(v,a+m,n-m,b);ascA(v,a,m,a+n-m);mrg(v,a+n-m,a+n,b,b+n-m,a);x(z(y)))"," x=N(K(\"{x-\u0026/x}\",x));Ay=aC(n),z=aI(n),u=aI(n);xe(ye(ascZ(xV,yV,zV,uV,n,xW)==zV?u(z):z(u))))","A1(dsc,XMT(x=rev(asc(rev(x)));sub(ai(xN-1),x))Xm(Ay=kv(\u0026x);idx(x,Nx(dsc(y))))Xz(cls(gl(x)))et1(x))","A1(grp,Xz(K(\"{@[\u0026x;;:;1]'!x}\",x))Xt(et1(x))Xm(Ay=kv(\u0026x);y=Nx(grp(y));yy=idx(x,yy);y)"," K(\"{(x[(!0),*'g])!g@:\u003cg:(\u0026(!0),~x~':x i)_i:\u003cx}\",x))","A2(bin,/*01*/Xt(er1(y))Xm(_1(xx,bin(xy,y)))YMT(K(\"{x''y}\",xR,y))"," Li=-1,j=xn;W(i+1\u003cj,Lm=(i+j)/2;Az=ii(x,m);qA(y,z)\u003c0?j=m:(i=m);z(0))y(az(i)))",""],"p.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","I si(Qs,Iv)_(SC0(s,v)-(C*)s)S D p10(In)_(Dv=1;i(n,v*=10)v)S Q pw(Qs)_(W(*s==32,s++)s)","L pu(Q*p)_(Qs=*p;Lv=0;Cc=*s;W(c09(c),v=10*v+c-'0';c=*++s)*p=s;v)L pl(Q*p)_(Im=**p=='-';*p+=m;(1-2*m)*pu(p))","S D pdu(Q*p)_(UL v=pu(p);Qs=*p;Cc=*s;P(c=='n'||c=='w',(*p)++;c=='n'?ND:WD)I e=0;"," I(c=='.',c=*++s;W(c09(c),I(v\u003c(1ull\u003c\u003c63)/10,v=10*v+c-'0';e--)c=*++s))I(c=='e',s++;e+=pl(\u0026s))*p=s;e\u003c0?v/p10(-e):v*p10(e))","S D pd(Q*p)_(Im=**p=='-';(*p)+=m;(1-2*m)*pdu(p))","S Qs,s0;S I k;S I num(Qs)_(c09(s[*s=='-']))","S A0(pZ,Qp=s;W(*p-'0'\u003c2u,p++)P(*p=='b',Ax=aB(p-s);i(xn,xb=*s++\u00261)s++;x)"," Ax=oL;W(1,Lv=pl(\u0026s);I(!v\u0026\u0026*s=='N',v=NL;s++)x=apv(x,\u0026v);Qp=pw(s);B(p==s||!num(p))s=p)sqzZ(x))","S A0(pD,Ax=oD;W(1,x=apv(x,(D[]){pd(\u0026s)});Qp=pw(s);B(p==s||!num(p))s=p)x)","S A0(pC,Ax=oC;Cc=*++s;W(c\u0026\u0026c-'\"',I(c=='\\\\',c=*++s;Ii=si(\"tnr0\",c);I(i\u003c4,c=\"\\t\\n\\r\"[i]))x=apc(x,c);c=*++s)P(!c,ep1(x))c=*++s;x)","S C ph()_(Cc=*s;c09(c)?c-'0':c-'a'\u003c6u?c+10-'a':16)","S A0(p0x,Ax=oC;s+=2;W(1,Cc=ph();P(c\u003e15,x)s++;Cd=ph();P(d\u003e15,ep1(x))s++;x=apc(x,c\u003c\u003c4|d))x)","S A0(ps,Qp=s;Cc=*s;I(c\u003e\u003e7,W(*++s\u003c-64)s+=*s==':')J(cAz(c),W(cA9(c),c=*++s))aCm(p,s))","S A0(pS,Ax=oS;W(1,Ay=*s-'\"'?ps():Nx(pC());y=str0(y);xq(y(sym(yV)));Qp=pw(s);P(*p-'`',x)s=p+1)0)","S A0(pP,Ax=oS;W(1,Ay=str0(ps());y(xq(sym(yV)));P(*s-'.'||!cAz(s[1]),x)++s)0)","S A px(In)_(Q(n\u003c4u);Ax=aS(n);i(xn,xi='x'+i)x)S A1(p1,x\u0026\u0026xn==1?fir(x):x)S A pb(A,C);","S A pt(C*v)_(Cc=*s;P(c=='`',s++;Ax=pS();x\u0026\u0026xn\u003e1?enl(x):x)P(c=='\"',p1(pC()))P(c=='[',s++;pb(a1(PLH),']'))"," P(c=='(',s++;P(*s==')',s++;oA)Ax=N(pb(enl(MKL),')'));xn-2?x:las(x))"," P(c=='{',C k0=k;k=1;Q s1=s0,t=s0=s++;Ay;I(*s-'[',y=au)E(s++;y=sqz(N(pb(oA,']')));P(!ytS,ep1(y))P(yN\u003e8,s--;ez1(y)))","          Az=pb(a1(PLH),'}');P(!z,s0=s1;y(0))I(y==au,y=px(k))Ax=N(cpl(aCn(t,s-t),z,y));s0=s1;k=k0;x)"," P(cAz(c),Qp=s;Ax=pP();I(s-p==1\u0026\u0026c-'y'\u003c2u,k=max(k,c-'w'))AO(p-s0,p1(x)))"," P(c09(c)\u0026\u0026s[1]==':',I u=s[2]==':';s+=2+u;Ii=20+c-'0';P(i\u003e25,ep0())*v=1;AT(tv-u,i))"," P(c=='0'\u0026\u0026s[1]=='x',p1(p0x()))"," P(num(s)\u0026\u0026(c-'-'||s==s0||(!cA9(s[-1])\u0026\u0026si(\")]}\\\"\",s[-1])==4)),L d=0;Qp=s;c=*p;","  W(1,p+=*p==32;B(!num(p))p+=*p=='-';c=*p;B(!cA9(c))W(cA9(c)||c=='.'||c==':',d|=si(\".nwe\",c)\u003c4;c=*++p))p1(d?pD():pZ()))"," P(c\u003e\u003e7,Qp=s;Ax=pP();*v=1;AO(p-s0,p1(x)))"," Ii=si(\"'/\\\\\",c);P(i\u003c3,c=*++s;I h=c==':';s+=h;*v=1;aw+i+3*h)i=si(vc,c);P(i\u003e19,PLH)I u=*++s==':';s+=u;*v=1;AT(tv-u,i))","S A1(pm,Xv(x^au^av)XA(I(xx==aw,x=mut(x);xA[xn-1]=pm(xA[xn-1]))x) //monadify"," Xs(Lv=xv;Qs=qs(\u0026v);Nn;P(*s\u003e\u003e7\u0026\u0026s[(n=Sn(s))-1]-':',Cb[8];Mc(b,s,n);b[n]=':';b[n+1]=0;sym(b))x)x)","S A pT(C*v)_(Ax=N(pt(v));"," W(1,Cc=*s;Ii=si(\"'/\\\\[\",c);P(i\u003e3,x)s++;","  I(i\u003e2,x=AO(s-1-s0,N(pb(a1(x),']')));I(xn==2,I(xy==PLH,xy=au)E(xx=pm(xx)))*v=0)","  E(I u=*s==':';s+=u;x=a2(aw+i+3*u,x);*v=1))x)","S A pe(Ax,C*v)_(s=pw(s);Cc=*s;I(c=='/'\u0026\u0026(s==s0||s[-1]==32||s[-1]==10),W((c=*++s)\u0026\u0026c-10))"," P(s\u003es0\u0026\u0026*s=='\\\\'\u0026\u0026s[-1]==32,s++;Ay=pe(0,v);P(!y,x?x(0):0);*v=0;y=a2(OUT,y);I(x,y=a2(pm(x),y))y)"," UH o=s-s0;Cb=0;Ay=pT(\u0026b);P(!y,x?x(0):0)P(y==PLH,x?x:y)P(!b,Az=pe(y,v);P(!x,z)Nx(z);*v?a3(aw,x,z):AO(o,a2(pm(x),z)))"," Az=pe(0,v);P(!z,y(x?x(0):0))P(z==PLH,*v=1;P(!x,y)Yu(ep1(x))AO(o,a3(y,x,z)))*v\u0026=y!=av;I(!x,y=pm(y))"," *v?a3(aw,x?AO(o,a3(y,x,PLH)):y,z):AO(o,x?a3(y,x,z):a2(pm(y),z)))","S A pb(Ax,Cc)_(W(1,Cv=0;Ay=Nx(pe(0,\u0026v));I(y==PLH\u0026\u0026c-']',P(c==')',ep2(x,y))y=au)xq(y);B(*s-';'\u0026\u0026*s-10)s++)P(*s-c,ep1(x))s++;x)","A pk(Qp)_(s0=s=p;Ax=pb(a1(PLH),0);P(!x,eQ(s0,Sn(s0),s-s0);0)xn-2?x:las(x))",""],"s.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#define Mh(x,y) (Mc(x,y,SZ(y)-1)+SZ(y)-1)","S Qq=\"0001020304050607080910111213141516171819202122232425262728293031323334353637383940414243444546474849\"","     \"5051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899\";","S C*S8(C*s,UI v)_(i(4,Mc(s+6-2*i,q+v%100*2,2);v/=100)s+8)","S C*s8(C*s,UI v)_(Cb[8],*p=b+6;W(1,Mc(p,q+v%100*2,2);v/=100;B(!v)p-=2)p+=*p=='0';In=b+8-p;Mc(s,p,n)+n)","S C*S16(C*s,UL v)_(S8(S8(s,v/(UI)1e8),v%(UI)1e8))","S C*s16(C*s,UL v)_(v\u003c(UI)1e8?s8(s,v):S8(s8(s,v/(UI)1e8),v%(UI)1e8))","S C*su(C*s,UL v)_(v\u003c(UL)1e16?s16(s,v):S16(s8(s,v/(UL)1e16),v%(UL)1e16))","C*sl(C*s,Lv)_(I(v\u003c0,P(v==NL,Mh(s,\"0N\"))v=-v;*s++='-')su(s,v))","// github.com/ulfjack/ryu (apache2|boost license)","#if defined(__SIZEOF_INT128__)"," S UL msh(UL m,O UL*a,Ii)_(__uint128_t g=m;((g**a\u003e\u003e64)+g*a[1])\u003e\u003e(i-64))"," S UL msha(UL m,O UL*a,Ii,UL*v,UL*w,I sh)_(*v=msh(m+2,a,i);*w=msh(m-1-sh,a,i);msh(m,a,i))","#else"," S UL shr(UL l,UL h,UI d)_(h\u003c\u003c(64-d)|l\u003e\u003ed)"," S UL mult(UL a,UL b,UL*rh)_(UI al=a,ah=a\u003e\u003e32,bl=b,bh=b\u003e\u003e32;UL c=(UL)al*bl,u=(UI)(c\u003e\u003e32)+(UL)ah*bl,v=(UI)u+(UL)al*bh;","  *rh=(UI)(u\u003e\u003e32)+(UI)(v\u003e\u003e32)+(UL)ah*bh;v\u003c\u003c32|(UI)c)"," S UL msha(UL m,O UL*a,Ii,UL*v,UL*w,I sh)_(m\u003e\u003e=1;UL t,l=mult(m,*a,\u0026t),h,m0=t+mult(m,a[1],\u0026h);h+=m0\u003ct;","  UL l2=l+*a,m2=m0+a[1]+(l2\u003cl),h2=h+(m2\u003cm0);*v=shr(m2,h2,i-65);","  I(sh==1,UL l3=l-*a,m3=m0-a[1]-(l3\u003el),h3=h-(m3\u003em0);*w=shr(m3,h3,i-65))","  E(UL l3=l+l,m3=m0+m0+(l3\u003cl),h3=h+h+(m3\u003cm0),l4=l3-*a,m4=m3-a[1]-(l4\u003el3),h4=h3-(m4\u003em3);*w=shr(m4,h4,i-64))shr(m0,h,i-65))","#endif","S UL I5[342][2],P5[326][2];S UL addcll(UL x,UL y,UL c,UL*p)_(UL u=x+y+c;*p=u\u003cx||u\u003cy;u) // or __builtin_addcll","S V shr3(UL*x,UL*y,I d){i(2,x[i]=y[i]\u003e\u003ed|y[i+1]\u003c\u003c(64-d))x[2]=y[2]\u003e\u003ed;}S V shr2(UL*a){*a\u003e\u003e=1;*a|=a[1]\u003c\u003c63;a[1]\u003e\u003e=1;}S V inc2(UL*a){a[1]+=!++*a;}","S V pws5(UL(*a)[2],In,L u,Lv,L w){UL x[]={u,v,w},y[3],c;i(n,Mc(a+i,x+1,16);shr3(y,x,2);c=0;i(3,x[i]=addcll(x[i],y[i],c,\u0026c))I(x[2]\u003e\u003e61,shr3(x,x,1)))}","S V initp5(){pws5(I5,ZZ(I5),0xebd5cf2016a52921,0x4ac7ca59a424c507,0x9558b4661b6565f8);pws5(P5,ZZ(P5),0,0,1ll\u003c\u003c61);"," I5[0][0]=0x0958f94b348498a0;I5[0][1]=0x12ab168cc36cacbf;shr2(I5[1]);shr2(I5[1]);shr2(I5[2]);shr2(I5[3]);i(ZZ(I5),inc2(\u0026I5[i][0]))"," inc2(I5[ZZ(I5)-1]);shr2(P5[0]);}","S UI dm(UL*p)_(UL x=*p,q=x/10;*p=q;(UI)x-10*(UI)q)S I l10p2(I x)_(x*78913\u003e\u003e18)S I l10p5(I x)_(x*732923\u003e\u003e20)S I p5b(I x)_(x*1217359\u003e\u003e19)","S I mp5(UL x,UI p)_(i(p,UL q=x/5;P((UI)x-5*(UI)q,0)x=q)1)S I mp2(UL x,UI p)_(!(x\u0026((1ll\u003c\u003cp)-1)))","C*sd(C*s,L d)_(UL x=d,m=x\u003c\u003c12\u003e\u003e12;I e=x\u003c\u003c1\u003e\u003e53;I(x\u003e\u003e63,*s++='-')P(e==2047,m?Mh(s,\"0n\"):Mh(s,\"0w\"))P(!m\u0026\u0026!e,Mh(s,\"0.0\"))"," m|=(UL)!!e\u003c\u003c52;e+=!e-1077;I t,ev=!(m\u00261),h=m\u003c\u003c12||e\u003c-1075,u0=0,w0=0;UL u,v,w;m\u003c\u003c=2;I(!**I5,initp5())"," I(e\u003e1,t=l10p2(e)-(e\u003e7);u=msha(m,I5[ZZ(I5)-1-t],t-e+p5b( t)+125,\u0026v,\u0026w,h);I(t\u003c22,!(m%5)?u0=mp5(m,t):ev?w0=mp5(m-1-h,t):(v-=mp5(m+2,t))))"," E( t=e+l10p5(-e)-(e\u003c3);u=msha(m,P5[        -t],t-e-p5b(-t)+124,\u0026v,\u0026w,h);I(t\u003ce+2,u0=1;ev?w0=h:--v)J(t\u003ce+63,u0=mp2(m,t-e)))"," I(w0||u0,Cd=0;W((v/=10)\u003ew/10,w0\u0026=!dm(\u0026w);u0\u0026=!d;d=dm(\u0026u);t++)I(w0,W(!dm(\u0026w),u0\u0026=!d;d=dm(\u0026u);t++))I(u0\u0026\u0026d==5\u0026\u0026!(u\u00261),d=4)u+=d\u003e=5||(u==w\u0026\u0026!(ev||w0)))"," E(Cd=0;W((v/=10)\u003e(w/=10),d=dm(\u0026u);t++)u+=u==w||d\u003e=5)"," s++;I l=su(s,u)-s-1;s[-1]=*s;t+=l;"," P(in(t,16),Ik=l\u003ct?l:t;Mm(s,s+1,k);Ms(s+l,'0',max(0,t-l));s+=t;*s++='.';s+=l-k;I(t\u003e=l,*s++='0')s)"," P(-4\u003ct\u0026\u0026t\u003c0,i(l+1,s[l-t-i]=s[l-i])s[-1]='0';*s++='.';Ms(s,'0',-t-1)+l-t)"," I(l\u003e0,*s++='.';s+=l)*s++='e';I(t\u003c0,t=-t;*s++='-')su(s,t))","A1(str0,Q(xtC);Nn=xn;x=AN(n,room(n+1,x));xC[n]=0;x)","A1(str,Xzd(Ay=aC(24);V(f,xtd?sd:sl)AN(f(yC,gl(x))-yC,y))Xs(Lv=xv;aCz(qs(\u0026v)))Xc(enl(x))XF(kst(x))eac1f(x,str))","","S A pre(Cc,Ax)_(cat(ac(c),x))A sur(Cc,Ax,Cd)_(apc(pre(c,x),d))S A1(par,sur('(',x,')'))","S A1(raz,fld1(x,CAT))S I esc(Cc)_(i(6,P(c==\"\\0\\t\\n\\r\\\"\\\\\"[i],i))-1)S A1(ek,eac1f(x,kst))","S A1(kss,Nn=xn+2;Iv=1;i(xn,I e=esc(xc)\u003e=0;n+=e;v\u0026=e||c3(32,xc,126))P(!v,cat(aCz(\"0x\"),hex(x)))"," Ay=aC(n);C*s=yV;*s++='\"';i(xn,Ij=esc(xc);I(j\u003c0,*s++=xc)E(*s++='\\\\';*s++=\"0tnr\\\"\\\\\"[j]))*s++='\"';x(y))","S A ksp(Ax,Qp,Qq,Qs)_(Ct=TS[xt];(SC(p,t)?xn==1:SC(q,t)?xn\u003c2:!!SC(s,t))?par(kst(x)):kst(x))","A1(ksl,ksp(x,\"AC\",\"IDS\",\"Mmqruvw\"))A1(ksr,ksp(x,\"\",\"\",\"qruvw\"))A1(ksw,ksp(x,\"AC\",\"IDS\",\"Mmpqw\"))","A1(kst,P(xtT\u0026\u0026xn==1,pre(',',ksr(fir(x))))XA(par(jc(';',ek(x))))Xc(kss(enl(x)))XC(kss(x))"," XZD(xn?jc(32,eac1f(x,str)):x(aCz(xtD?\"0#0n\":\"!0\")))XS(xn?raz(ek(x)):x(aCz(\"0#`\")))XM(pre('+',kst(flp(x))))"," Xm(Ay=kv(\u0026x);cat(apc(ksl(x),'!'),ksr(y)))Xzd(str(x))"," Xs(x=str(x);Iv=1;i(xn,v\u0026=c09(xc)||cAz(xc))I(!v,x=kst(x);I(*xC==',',x=drp(1,x)))pre('`',x))Xo(x(_R(xx)))"," Xp(x=val(x);Ay=xx,z=xy;","  P(xn==3\u0026\u0026((ytv\u0026\u0026y-av)||ytr)\u0026\u0026xy-PLH\u0026\u0026xz==PLH,","   z=ksl(zR);y=kst(fir(x));cA9(zC[zn-1])\u0026\u0026(cA9(*yC)||*yC==':'||*yC=='-')?cts(cat(apc(y,'['),z),\";]\",2):cat(z,y))","  x=ek(x);Nm=_n(xx);x=apc(jc(';',x),']');Q(xr==1);xC[m]='[';x)"," Xq(raz(ek(val(x))))Xr(x=val(x);Ay=_R(xy);cat(ksw(fir(x)),str(y)))Xw(aCn(\u0026\"':/:\\\\:\"[xv%3*2],1+xv/3))"," P(x==PLH,oC)Xu(apc(kst(au^av^x),':'))Xv(Ay=aCn(vc+xv,1);xv\u003c20?y:apc(y,':'))aCz(\"???\"))","A1(out,P(x==au,x)dex(v0c(ai(1),xtA\u0026\u00261\u003cxn?par(jC(\"\\n \",2,ek(xR))):kst(xR)),x))","Q HEX=\"0123456789abcdef0123456789ABCDEF\";","A1(hex,XC(Ay=aC(2*xn);C*s=yC;xe(i(xn,*s++=HEX[(UC)xc\u003e\u003e4];*s++=HEX[xc\u002615])y))pen(x,hex))","A1(unh,XC(P(xn\u00261,el1(x))S C q[256];I(!q['1'],i(32,q[HEX[i]]=15\u0026i))Ay=aC(xn/2);xe(i(yn,yc=q[xC[2*i]]\u003c\u003c4|q[xC[2*i+1]])y))pen(x,unh))",""],"v.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","#define c_(T,R,p) SN V c##T##R(OV*RE v,V*RE w,Nn)_(O T*RE a=v;R*RE r=w;i(PD(n,p),r[i]=a[i]))","#define cN(T,R,p) SN V c##T##R(OV*RE v,V*RE w,Nn)_(O T*RE a=v;R*RE r=w;i(PD(n,p),r[i]=a[i]==N##T?N##R:a[i]))","c_(B,H,r)c_(H,B,a)c_(B,I,r)c_(I,B,a)c_(L,B,a)c_(H,I,r)c_(I,H,a)c_(H,L,r)c_(L,H,a)c_(I,L,r)c_(L,I,a)cN(L,D,a)cN(D,L,a)","A1(flp,XM(Ay=kv(\u0026x);am(x,y))"," Xm(Ay=kv(\u0026x);I(ytT\u003eytA,y=flp(flp(y)))P(!ytA,et2(x,y))Ln=cfm(yA,yn);P(n\u003c0,el2(x,y))i(yn,Az=ya;I(ztt,y=mut(y);ya=rsh(n,z)))aM(x,y))"," Xt(enl(enl(x)))P(!xtA||!xn,enl(x))Ln=cfm(xA,xn);P(n==-1,enl(x))P(n\u003c0,el1(x))"," Ct=_t(*xA);I(t\u003ctM,i(xn,Ay=xa;B(yt-t,t=0)))E(t=0)Ay=aA(n);P(!t,i(n,Az=aA(xn);j(xn,zA[j]=ii(xA[j],i))ya=sqz(z))x(y))"," I w=Tz[t];j(n,Az=yA[j]=an(t,xn);"," S4(w,i(xn,zb=_B(xa)[j]),i(xn,zh=_H(xa)[j]),i(xn,zi=_I(xa)[j]),i(xn,zl=_L(xa)[j])I(w==4,yA[j]=sqz(mRa(z)))))x(y))","V tilV(V*p,Ln,I w){L*a=p,v=T(0x706050403020100ll,0x3000200010000ll,1ll\u003c\u003c32,0)[w],"," d=T(0x808080808080808ll,0x4000400040004ll,2ll\u003c\u003c32|2,1)[w];LN(a)i(PD((n-1\u003e\u003e3-w)+1,a),a[i]=v;v+=d)}","AL(tilL,P(n\u003c0,n-NL?add(az(n),N(tilL(-n))):ed0())P(n\u003e1\u003c\u003c30,ez0())Ax=an(tZ(n-1),n);tilV(xV,n,xt-tB);x)","A1(til,Xz(tilL(gl(x)))XZ(K(\"{x((*a)#\u0026#)'1_a:|*\\\\|x,1}\",x))XmM(x(_R(xx)))Xo(val(x))P(!xtA||xn,et1(x))x)","A1(whr,Xz(whr(enl(x)))XA(K(\"{$[`A~@x;(,\u0026#'*'x),,'/x@\\\\:!0|/#'x:o'x;,\u0026x]}\",x))Xm(Ay=kv(\u0026x);idx(x,Nx(whr(y))))XM(et1(x))"," XZ(I w=xt-tB;Ln=0;i(xn,Lv=iw(x,w,i);n+=v;P(n\u003c0||v\u003c0,ed1(x)))Ct=tZ(xn-!!xn);P(t\u003etI,ez1(x))Ay=an(t,n);","  xe(S4(Tz[t],{B*a=yV;i(xn,j(iw(x,w,i),*a++=i))},{H*a=yV;i(xn,j(iw(x,w,i),*a++=i))},{I*a=yV;i(xn,j(iw(x,w,i),*a++=i))},)y))"," et1(x))","A1(rev,Xm(Ay=kv(\u0026x);am(rev(x),rev(y)))XM(Ay=kv(\u0026x);aM(x,Nx(eac1f(y,rev))))Xt(x)x=mut(x);Ii=0,j=xn-1,w=xw;"," W(i\u003cj,I(!w,SWP(xb,xB[j]))J(w==1,SWP(xh,xH[j]))J(w==2,SWP(xi,xI[j]))E(SWP(xl,xL[j]))i++;j--)x)","A1(typ,x(as(TS[xt])))","A1(len,x(az(xN)))N _N(Ax/*0*/)_(XT(xn)Xm(_N(xy))XM(_n(xy)?_N(*_A(xy)):1)1)","S A1(cSI,Q(xtS||xtI)Ct=tS^tI^xt;xr-1?x(aV(t,xn,xV)):AT(t,x))","A1(unq,"," XT(P(xn\u003c2,x)","    P(xn\u003c\u003cxw\u003cZP\u0026\u0026!xtA,K(\"{x@\u0026(x?x)=!#x}\",x))","    P(xtB||xtC,C a[256]={};Ay=an(xt,0);i(xn,I(!a[(UI)xc],a[(UI)xc]=1;y=apc(y,xc)))x(y))","    XS(cSI(unq(cSI(x))))","    K(\"{x@i@\u003ci@:\u0026@[;0;:;1]@~~':x@i:\u003cx}\",x))"," XM(en1(x))"," Xm(unq(val(x)))"," Xz(Ln=gl(x);P(n\u003c0,ed0())rndD(n))"," et1(x))","A2(fil,YmMA(eac2f(x,y,exc))YF(y==au?x:x(y))Yt(fir(fil(x,enl(y))))K(\"{@[y;\u0026^y;:;x]}\",x,y))","A2(exc,Xt(fil(x,y))P(xtmM||ytmM,en2(x,y))Yt(exc(x,enl(y)))P(!xn||!yn,y(x))"," Ik=rnk(x);k\u003e0\u0026\u0026k==rnk(y)?K(\"{x@\u0026^y?x}\",x,y):K(\"{x@\u0026~(!0),x~\\\\:y}/\",x,y))","A wdn(Ax,Ni,Nj,Nn)_(Ct=xt;Q(xtZC);Ay=an(t+1,n);xe(T(\u0026cBH,cHI,cIL,cLD,0,cBH)[t-tB](xV+TZ[t]*i,yV,j-i);y))","A1(cC, XC(x)x=N(cB(x));Xt(ac((C)xv))AT(tC,mut(x)))","A1(cB, XB(x)x=N(cI(x));Xt(x)Ay=an(tB,xn);xe(cIB(xV,yV,yn);y))","A1(cH, XH(x)x=N(cI(x));Xt(x)Ay=an(tH,xn);xe(cIH(xV,yV,yn);y))","A1(cI, XI(x)Xzc(ai(gl(x)))XdD(cI(N(cL(x))))XZC(Ay=aI(xn);Ii=xt-tB;xe(T(\u0026cBI,cHI,0,cLI,0,cBI)[i](xV,yV,yn);y))et1(x))","A1(cL,XlL(x)Xzc(al(gl(x)))Xt(fir(N(cL(enl(x)))))XD(Ay=aL(xn);xe(cDL(xV,yV,yn);y))x=N(cI(x));Ay=aL(xn);xe(cIL(xV,yV,yn);y))","A1(cD,XdD(x)Xzc(ad(gl(x)))Xt(fir(N(cD(enl(x)))))x=N(cL(x));Ay=aD(xn);xe(cLD(xV,yV,yn);y))","A1(cS,XsS(x)XC(x=str0(x);x(sym(xV)))Xc(as(xv))P(xtA\u0026\u0026!xn,x(oS))pen(x,cS))","A1(pI,Xc(pI(enl(x)))XC(x=str0(x);Qs=xV;P(!*s,x(_R(cn[tl])))Lv=pl(\u0026s);x(*s?_R(cn[tl]):az(v)))pen(x,pI))","A1*cT[]={[tA]=cA,cB,cH,cI,cL,cD,cC,cS};","A1(csti,XD(sqzZ(cL(x)))Xd(az(gd(x)))XC(sqzZ(cB(x)))Xc(ai(xv))XzZ(x)et1(x))","A2(cst,P(xtS||ytmMA,eac2f(x,y,cst))"," Xz(YC(K(\"{y@(!x)+(x\u003c0)*#y}\",x,y))Yc(cst(x,enl(y)))et2(x,y))"," Xs(Iv=xv;P(v-(C)v,ed1(y))T(\u0026csti,cD,cC,cS,pI,ed1)[si(\"idcsI\",v+'s'*!v)](y))"," et2(x,y))","A1(sqzZ,XH(i(xn,P(xh-(B)xh,x))cB(x))XI(i(xn,P(xi-(H)xi,x))sqzZ(cH(x)))XL(i(xn,P(xl-(I)xl,x))sqzZ(cI(x)))x)","A1(sqz,P(!xtA||!xn,x)Nn=xn;Ay=xx;Ct=yt;Ym(y=oA;i(n,yq(_R(xa)))x(y))P(!c3(ti,t,ts),x)"," I(ytz,I l=0;i(n,Ay=xa;I(ytl,l=1)E(P(!yti,x)))","       I(l,t=tL)E(I a=0,b=0;i(n,Ay=xa;a=min(a,yv);b=max(b,yv))t=max(tZ(a),tZ(b))))"," E(i(n,P(t-_t(xa),x)))"," y=an(TT[t],n);Iv=yw;I(v\u003c3,T(\u0026cLB,cLH,cLI)[v](xV,yV,n))E(i(n,yl=gl_(xa)))x(y))","A1(cA,XA(x)Xt(a1(x))Xm(et1(x))Nn=xN;Ay=aA(n);i(yn,ya=ii(x,i))x(y))","L tru(Ax/*1*/)_(Lv=xtF?x!=au:xtt?gl_(x):xN;x(0);v)",""],"w.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","SN A2(enc/*01*/,P(!xtzZ,en1(y))P(x==ai(2)\u0026\u0026ytz\u0026\u0026gl_(y)\u003c0,x=rsh(64,xR);x(enc(x,y)))"," Ii=ytt;x=K(\"{$[0\u003e\u0026/x;`err\\\"domain\\\"; `i~@x;|x!-1_![-x;]\\\\y; x!'|(,y),y{(-y)!x}\\\\|1_x]}\",xR,y);!x||xN?x:x(i?oB:oA))","SN A2(dec,/*01*/K(\"{z+x*y}/[0;;]\",xR,y))","SN ALA(win,P(n\u003c0,ed1(x))K(\"{[n;x]x(!n)+/:!0|1-n-#x}\",az(n),x))","SN A scC(Cc    ,C*p,Ln)_(           Ax=oA;C*q;W((q=MC(p,c,n  )),xq(aCm(p,q));n-=q-p+1;p=q+1)I(c-10||n,xq(aCn(p,n)))x)","SN A sCC(C*s,Lm,C*p,Ln)_(P(!m,el0())Ax=oA;C*q;W((q=MM(p,n,s,m)),xq(aCm(p,q));n-=q+m-p;p=q+m)xq(aCn(p,n)))","SN A sc(Cc    ,Ax)_(XC(x(scC(c,  xV,xn)))et1(x))A1(spl,sc(10,x))","SN A sC(C*s,Lm,Ax)_(XC(x(sCC(s,m,xV,xn)))et1(x))","SN L jN(Lm,Ax/*0*/)_(P(!xtA,-1)Ln=(xn-!!xn)*m;i(xn,Ay=xa;P(!ytcC,-1)n+=yN)n)//total length or -1","A jc(Cc,   Ax)_(Ln=jN(1,x);P(n\u003c0,et1(x))Ay=aC(n);C*p=yV;i(xn,I(i,*p++=c        )Az=xa;I(ztc,*p++=zv)E(Mc(p,zV,zn);p+=zn))x(y))","A jC(Qs,Nm,Ax)_(Ln=jN(m,x);P(n\u003c0,et1(x))Ay=aC(n);C*p=yV;i(xn,I(i,Mc(p,s,m);p+=m)Az=xa;I(ztc,*p++=zv)E(Mc(p,zV,zn);p+=zn))x(y))","L cfm(OA*a/*0*/,In)_(Lm=-1;i(n,Ax=a[i];I(!xtt,Lv=xN;P(m\u003e=0\u0026\u0026m-v,-2)m=v))m)","S A emp1f(Ax,A1 f/*0f*/)_(f==len?oB:f==til||f==str?oA:xR)S A2(emp1,/*00*/ytu?emp1f(x,v1[yv]):oA)","S A emp2f(Ax,Ay,A2 f/*00f*/)_(f==mod?oB:oA)              S A3(emp2,/*000*/ztv?emp2f(x,y,v2[zv]):oA)","SN AX(eacm,Az=oS;Ik=0;i(n,Ay=a[i];I(ytm,k++;z=cat(z,_R(yx))))I(k\u003e1,z=unq(z))"," Ab8;i(n,Ay=b[i]=a[i];I(ytm,Au=kv(\u0026y);uq(id_(x,u));b[i]=ap1(u,fil(ai(yn),fnd(y,zR)))))AX eac;x=eac(x,b,n);P(!x,z(x))dct(z,x))","A eac1f(Ax,A1 f)_(Xt(f(x))Xm(Ay=kv(\u0026x);am(x,Nx(eac1f(y,f))))I b=xtA\u0026\u0026xr==1;Nn=xN;P(!n,x(emp1f(x,f)))"," Ay=oA;i(n,Az=f(b?xa:ii(x,i));B(!z,I(b,mrn(xn-i-1,xA+i+1))y=y(0))yq(z))I(b,x=AN(0,x))x(y))","SN A2(eac1,/*10*/Yu(eac1f(x,v1[yv]))Xt(y1(x))Xm(eacm(y,\u0026x,1))Nm=xN;P(!m,x(emp1(x,y)))"," P(xtA\u0026\u0026xr==1,x=AN(0,x);Au=oB;i(m,Az=y1(xa     );B(!z,u=u(0);mrn(m-i-1,xA+i+1))uq(z))x(u))","                        Au=oB;i(m,Az=y1(ii(x,i));B(!z,u=u(0)                  )uq(z))x(u))","NI A eal2f(Ax,Ay,A2 f/*11f*/)_(           Xt( f(x,y))Xm(Az=kv(\u0026x);am(x,Nx(eal2f(z,y,f))))"," Nn=xN;P(!n,x(y(emp2f(x,y,f))))Au=oA;i(xN,A v= f(ii(x,i),yR);B(!v,u=u(0))uq(v))x(y(u)))","NI A ear2f(Ax,Ay,A2 f/*11f*/)_(           Yt( f(x,y))Ym(Az=kv(\u0026y);am(y,Ny(ear2f(x,z,f))))"," Nn=yN;P(!n,x(y(emp2f(x,y,f))))Au=oA;i(yN,A v= f(xR,ii(y,i));B(!v,u=u(0))uq(v))x(y(u)))","SN A3(eal2,/*110*/P(ztv,eal2f(x,y,v2[zv]))Xt(z2(x,y))Xm(z=prj(z,A(PLH,y),2);z(eac1(x,z)))"," Nn=xN;P(!n,x(y(emp2 (x,y,z))))Au=oA;i(xN,A v=z2(ii(x,i),yR);B(!v,u=u(0))uq(v))x(y(u)))","NI A3(ear2,/*110*/P(ztv,ear2f(x,y,v2[zv]))Yt(z2(x,y))Ym(z=prj(z,A(x,PLH),2);z(eac1(y,z)))"," Nn=yN;P(!n,x(y(emp2 (x,y,z))))Au=oA;i(yN,A v=z2(xR,ii(y,i));B(!v,u=u(0))uq(v))x(y(u)))","SN AX(eal,Ab8;Mc(b,a,8*n);*b=PLH;x=prj(x,b,n);x(eac1(*a,x)))","SN A3(eac2,/*110*/P(ztv,eac2f(x,y,v2[zv]))Xt(ear2(x,y,z))Yt(eal2(x,y,z))P(xtm||ytm,eacm(z,A(x,y),2))"," Nm=xN;P(m-yN,el2(x,y))P(!m,y(ztv\u0026\u0026zv\u003c11?x:x(oA)))Au=0;Ct=xtA\u0026\u0026xr==1,s=ytA\u0026\u0026yr==1;"," i(m,A v=z2(t?xa:ii(x,i),s?ya:ii(y,i));B(!v,I(u,u=u(0))I(t,mrn(m-i-1,xA+i+1))I(s,mrn(m-i-1,yA+i+1)))","  I(!u,u=v?AN(0,an(c3(ti,_t(v),ts)?TT[_t(v)]:tA,m)):0)uq(v))"," mr(t?AN(0,x):x);mr(s?AN(0,y):y);u)","AX(eac,P(n==1,eac1(*a,x))P(n==2,eac2(*a,a[1],x))"," Ab8;Ct[8];Lm=-1;i(n,Ay=b[i]=a[i];Ym(eacm(x,a,n))t[i]=ytP?0:ytt?1:ytA?2+(yr\u003e1):4;I(t[i]\u003e1,L l=yN;P(m\u003e=0\u0026\u0026m-l,el8(a,n))m=l))"," P(m\u003c0,x8(a,n))i(n,I(t[i]==1,_r(a[i])+=m)) //t[i] 0:pkdatm,1:refatm,2:tA(r=1),3:tA,4:other"," Au=0;I(!m,u=x==LEN?oB:n==2\u0026\u0026xtv\u0026\u0026xv\u003c11?_R(a[!_N(a[1])]):oA)"," j(m,i(n,Ay=a[i];I(t[i]==2,b[i]=yA[j])I(t[i]\u003e2,b[i]=ii(y,j)))Az=x8(b,n);","  B(!z,I(u,u=u(0))i(n,Ay=a[i];I(t[i]==1,yr-=m-j-1)I(t[i]==2,mrn(m-j-1,yA+j+1))))","  I(!j,u=c3(ti,zt,ts)?AN(0,an(TT[zt],m)):oA)uq(z))"," i(n,mr(t[i]-2?a[i]:AN(0,a[i])))u)","S I arf2(A2 f)_((SZ(V*)-8?fI:fL)(v2+1,10,(L)f)!=NL)","A eac2f(Ax,Ay,A2 f)_(Ik=2*xtt+ytt;P(k==3,f(x,y))"," P(xtm||ytm,P(xtm\u003eytm,Az=kv(\u0026x);am(x,Nx(eac2f(z,y,f))))P(xtm\u003cytm,Az=kv(\u0026y);am(y,Ny(eac2f(x,z,f))))","  Az=unq(cat(_R(xx),_R(yx)));x=ap1(x,zR);y=ap1(y,zR);I(arf2(f),Au=az(f==mul||f==dvd);x=fil(u,x);y=fil(u,y))am(z,Nz(eac2f(x,y,f))))"," P(!k\u0026\u0026xN-yN,el2(x,y))"," Nn=k\u003c2?xN:yN;Az=emp2f(x,y,f);i(n,Au=f(ii(x,i),ii(y,i));B(!u,z=z(0))zq(u))x(y(z)))","SN A2(cs,/*01*/Az=yR,v=yR,u=enl(y);W(1,z=yR;y=x1(y);P(!y,z(u(dex(v,0))))Im=mtc_(y,z)||mtc_(y,v);z(0);B(m)uq(yR))y(dex(v,u)))","SN A2(cf,/*01*/Az=yR,u;W(1,zR;u=x1(z);B(!u)P(mtc_(u,y)||mtc_(u,z),y(u(z)))z=z(u))y(z(u)))","SN A w3(Ax,Ay,Az,Au/*011*/)_(W(1,A w=y1(zR);B(!w,u?u=u(0):(z=z(0)))B(!tru(w))z=x1(z);P(!z,y(u?u(0):0))I(u,uq(zR)))u?y(z(u)):y(z))","SN A3(ws,/*011*/w3(x,y,z,enl(zR)))","SN A3(wf,/*011*/w3(x,y,z,0))","SN A n3(Ax,Lm,Ay,Az/*0m11*/)_(i(m,I(z,zq(yR))y=x1(y);B(!y))z?y?zq(y):z(y):y)","SN A ns(Ax,Lm,Ay/*0m1*/)_(n3(x,m,y,oA))","SN A nf(Ax,Lm,Ay/*0m1*/)_(n3(x,m,y,0))","SN A nS(Ax,Lm,OA*a,Nn/*0m1n*/)_(P(n==1,ns(x,m,*a))m=max(0,m);Az=aA(n+m),*b=zV;zn=n;Mc(b,a,8*n);i(m,mRn(n,b);b[n]=Nz(x8(b,n));zn++;b++)sqz(z))","SN A nF(Ax,Lm,OA*a,Nn/*0m1n*/)_(P(n==1,nf(x,m,*a))las(N(nS(x,m,a,n))))","SN A wS(Ax,Ay,OA*a,Nn/*0m1n*/)_(P(n==1,ws(x,y,*a))Ab8;Mc(b,a,8*n);mRn(n,b);Az=sqz(aV(tA,n,b));"," W(1,Au=y1(ii(z,zn-1));B(!u,z=z(0))B(!tru(u))mRn(n-1,b+1);u=x8(b,n);B(!u,*b=au;z=z(0))Mm(b,b+1,8*n-8);b[n-1]=u;zq(uR))"," mrn(n,b);y(z))","SN A wF(Ax,Ay,OA*a,Nn/*011n*/)_(P(n==1,wf(x,y,*a))las(N(wS(x,y,a,n))))","SN A3(nws2,/*011*/Yz(ns(x,gl(y),z))YF(ws(x,y,z))et2(y,z))","SN A3(nwf2,/*011*/Yz(nf(x,gl(y),z))YF(wf(x,y,z))et2(y,z))","SN AX(nws,Ay=*a;P(n==2,nws2(x,y,a[1]))Yz(nS(x,gl(y),a+1,n-1))YF(wS(x,y,a+1,n-1))et8(a,n))","SN AX(nwf,Ay=*a;P(n==2,nwf2(x,y,a[1]))Yz(nF(x,gl(y),a+1,n-1))YF(wF(x,y,a+1,n-1))et8(a,n))","SN A3(fld2,/*110*/Yt(z2(x,y))P(ztv\u0026\u0026zv\u003c11\u0026\u0026xtzdc\u0026\u0026ytZDC,arf(x,y,z))i(yN,x=z2(x,ii(y,i));B(!x))y(x))","A2(fld1,/*10*/Xt(x)P(ytv\u0026\u0026yv\u003c11\u0026\u0026xtZDC,arf(0,x,y))P(!xN,x(id_(y,x)))Az=ii(x,0);i(xN-1,z=y2(z,ii(x,i+1));B(!z))x(z))","AX(fld,P(n==1,fld1(*a,x))P(n==2,fld2(*a,a[1],x))n--;Ay=*a++,z=*a;Lm=cfm(a,n);"," P(m==-1,y?x8(a-1,n+1):z)P(m\u003c0,I(y,y(0))el8(a,n))P(!m\u0026\u0026!y,x=id_(x,z);mrn(n,a);x)"," Li=!y;I(i,y=ii(z,0))Ab8;W(i\u003cm,*b=y;j(n,b[j+1]=ii(a[j],i))y=x8(b,n+1);B(!y)i++)mrn(n-1,a+1);z(y))","SN A3(scn2,/*110*/Yt(z2(x,y))Ym(Au=kv(\u0026y);am(y,Ny(scn2(x,u,z))))P(!yN,x(y))P(ztv\u0026\u0026zv\u003c11\u0026\u0026xtzc\u0026\u0026ytZC,ars(x,y,z))"," Au=oA;i(yN,x=z2(x,ii(y,i));P(!x,y(u(0)))uq(xR))x(y(u)))","SN A2(scn1,/*10*/Xt(x)P(!xN,x)Xm(Az=kv(\u0026x);am(x,Nx(scn1(z,y))))P(y==CAT,scn2(oA,x,y))P(ytv\u0026\u0026yv\u003c11\u0026\u0026xtZC,ars(0,x,y))"," Ni=0,n=xN;Az=ii(x,0),u=enl(zR);W(++i\u003cn,z=N(y2(z,ii(x,i)));uq(zR))z(x(u)))","SN AX(scn,P(n==1,scn1(*a,x))P(n==2,scn2(*a,a[1],x))Ay=*a++;n--;Lm=cfm(a,n);P(m==-2,y(el8(a,n)))"," Az=oA;Ab8;i(m,*b=y;j(n,b[j+1]=ii(a[j],i))y=x8(b,n+1);P(!y,mrn(n,a);z(0))zq(yR))mrn(n,a);y(z))","SN A3(eap2,/*110*/Ym(Au=kv(\u0026y);am(y,Ny(eap2(x,u,z))))Yt(et2(x,y))P(!yN,x(y))P(ztv\u0026\u0026zv\u003c11\u0026\u0026xtzc\u0026\u0026ytZC,arp(x,y,z))"," Au=oA;i(yN,x=z2(ii(y,i),x);P(!x,y(u(0)))uq(x);x=ii(y,i))x(y(u)))","SN A2(eap1,/*10*/eap2(id_(y,x),x,y))","SN A3(ste,/*110*/K(\"{z'x':y}\",x,y,zR))","AX(adv,Q(xtr)Ii=xE;x=xx;Ik=xK;"," SW(i,","  CR(0,P(n==1,Xt(eac1(*a,x))bin(x,*a))eac(x,a,n))","  CR(1,P(n==1,Ay=*a;P(xtzZ||xtdD,dec(x,y))Xc(jc(xv,y))XC(jC(xV,xn,y))P(k\u003c2,cf(x,y))fld1(y,x))P(k\u003c2,nwf(x,a,n))P(n-k==1,nwf(x,a,n))fld(x,a,n))","  CR(2,P(n==1,Ay=*a;P(xtzZ||xtdD,enc(x,y))Xc(sc(xv,y))XC(sC(xV,xn,y))P(k\u003c2,cs(x,y))scn1(y,x))P(k\u003c2,nws(x,a,n))P(n-k==1,nws(x,a,n))scn(x,a,n))","  CR(3,n==1?xtz?win(gl(x),*a):eap1(*a,x):n==2?k==1?ste(*a,a[1],x):eap2(*a,a[1],x):er8(a,n))","  CR(4,P(n==2,ear2(*a,a[1],x))er8(a,n))","  CR(5,P(n==2,eal2(*a,a[1],x))eal(x,a,n)))"," er8(a,n))",""],"x.c":["#include\"a.h\" // ngn/k, (c) 2019-2022 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE","","//serialize","S A f8(Lv,Ay)_(cts(y,(V*)\u0026v,8))","S A2(f,y=Nx(apc(y,xt));"," P(xtA||xtS,y=Nx(f8(xn,y));i(xn,y=Nx(f(ii(x,i),y)))x(y))"," XmMA(f(AT(tA,mut(x)),y))"," Xs(Lv=xv;Qs=qs(\u0026v);In=Sn(s)+1;y=Nx(apc(y,n));cts(y,s,n))"," XP(f8(x,y))"," Xr(f(AT(tA,mut(x)),Nx(apc(y,xE\u003c\u003c3|xk))))"," XF(f(AT(tA,mut(x)),Nx(apc(y,xv\u003c\u003c3|xk))))"," In=8*xtT;x(cts(y,xV-n,n+xn*xW)))","A1(ser,f(x,oC))","","//deserialize","S C*s,*p;","#define h(n) ({P(p-s\u003cn,ed0());C*r=s;s+=n;r;})","#define h1 (*(C*)h(1))","#define h8 (*(L*)h(8))","S A0(g,Ct=h1;P(!in(t,tn),ed0())"," P(t==tA||t==tS,Ln=h8;P(!in(n,1ll\u003c\u003c45),ed0())Ax=AN(0,an(t,n));i(n,xq(Nx(g())))x)"," P(t==tm||t==tM,Ax=N(g());P(!xtA||xn-2||_t(xx)\u003etM||_t(xy)\u003etM||_N(xx)-_N(xy),ed0())AT(t,mut(x)))"," P(t==ts,Nn=h1;sym(h(n)))"," P(TP(t),h8)"," P(t==tr,Cc=h1;AT(t,AK(c\u00267,AW(c\u003e\u003e3,N(g())))))"," P(TF(t),Cc=h1;AT(t,AK(c\u00267,AV(c\u003e\u003e3,N(g())))))"," Ln=t\u003ctm?h8:1;P(!in(n,1ll\u003c\u003c45),ed0())aV(t,n,h(n*TZ[t])))","A1(des,XC(s=xV;p=s+xn;x(g()))ed1(x))",""]}
