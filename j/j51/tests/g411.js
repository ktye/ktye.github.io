NB. Copyright (c) 1989 1990, Roger K.W. Hui & K.E. Iverson
NB. Copyright (c) 1990-1992, Iverson Software Inc.
NB. All Rights Reserved.


NB. !.n -----------------------------------------------------------------

i=.i.22
v=.>:10^-i
14 = (1=v)i.1
14 = (1 =!.(2^_44) v)i.1
b=.1=!.0 v
b -: *./\.b
16 <: +/-.b

x=.1.23456789012345
'1.23457' -: ":x
'1.23457' -: ":!.6 x
'1.23456789012' -: ":!.12 x
y=.123456789
'123456789' -: ":y
'123456789' -: ":!.4 y


NB. !. comparison tolerance ---------------------------------------------

i=.i.22
v=.1+10^-i
(1=v) -: 1 =!.(2^_44) v
(1=v) -: 14 8#0 1
(1=!.0 v) *./ .<: 16 6#0 1

0 0 0 0 1 -: _  =    ] __ 1 2 3 _
0 0 0 0 1 -: _  =!.0 ] __ 1 2 3 _
1 0 0 0 0 -: __ =    ] __ 1 2 3 _
1 0 0 0 0 -: __ =!.0 ] __ 1 2 3 _
