NB. Copyright (c) 1989 1990, Roger K.W. Hui & K.E. Iverson
NB. Copyright (c) 1990-1992, Iverson Software Inc.
NB. All Rights Reserved.


NB. |.y -----------------------------------------------------------------

rev =. ]`((<:-i.)@# { ]) @. (*@#@$)

NB. Boolean
(|. -: rev) 1=?50 2 3$2
(|. -: rev) 1=?1 100$2
(|. -: rev) 1=?100 0$2
(|. -: rev) 1

NB. literal
(|. -: rev) (?45 1 2 2$#a){a=.'foo upon thee 1=?10 20$2'
(|. -: rev) (?400 1 1$#a){a
(|. -: rev) (?0 10 2$#a){a
(|. -: rev) 'a'
(|. -: rev) ''

NB. integer
(|. -: rev) ?25 2 2 2$212341
(|. -: rev) ?400 1$123541
(|. -: rev) ?0 1000$123456
(|. -: rev) _4
(|. -: rev) i.0

NB. floating point
(|. -: rev) o.?35 3 5$212341
(|. -: rev) o.?1 40$123541
(|. -: rev) o.?100 0$123456
(|. -: rev) 3.4
(|. -: rev) ,_3.4

NB. complex
(|. -: rev) ^0j1*?30 2 5$21234
(|. -: rev) ^0j1*?1 256$1235
(|. -: rev) ^0j1*?127 0$1234
(|. -: rev) 3j4
(|. -: rev) 0$3j4

NB. boxed
(|. -: rev) (?30 2 1 1 1$#x){x=.;:'Cogito, ergo sum. $212 341 CBC News'
(|. -: rev) (?255 1$#x){x
(|. -: rev) (?0 0$#x){x
(|. -: rev) <i.2 3
(|. -: rev) ,<i.2 3


NB. x|.y ----------------------------------------------------------------

rank =. #@$
rot  =. ]`(((i.@]-]-|~)#){])@.(*@rank@])"0 _

NB. Boolean
(_50+?100) (|. -: rot) 1=?50 2 3$2
(_50+?100) (|. -: rot) 1=?1 100$2
(_50+?100) (|. -: rot) 1=?100 0$2
(_50+?100) (|. -: rot) 1

NB. literal
(_50+?100) (|. -: rot) (?45 1 2 2$#a){a=.'foo upon thee 1=?10 20$2'
(_50+?100) (|. -: rot) (?400 1 1$#a){a
(_50+?100) (|. -: rot) (?0 10 2$#a){a
(_50+?100) (|. -: rot) 'a'
(_50+?100) (|. -: rot) ''

NB. integer
(_50+?100) (|. -: rot) ?25 2 2 2$212341
(_50+?100) (|. -: rot) ?400 1$123541
(_50+?100) (|. -: rot) ?0 1000$123456
(_50+?100) (|. -: rot) _4
(_50+?100) (|. -: rot) i.0

NB. floating point
(_50+?100) (|. -: rot) o.?35 3 5$212341
(_50+?100) (|. -: rot) o.?1 40$123541
(_50+?100) (|. -: rot) o.?100 0$123456
(_50+?100) (|. -: rot) 3.4
(_50+?100) (|. -: rot) ,_3.4

NB. complex
(_50+?100) (|. -: rot) ^0j1*?30 2 5$21234
(_50+?100) (|. -: rot) ^0j1*?1 256$1235
(_50+?100) (|. -: rot) ^0j1*?127 0$1234
(_50+?100) (|. -: rot) 3j4
(_50+?100) (|. -: rot) 0$3j4

NB. boxed
(_50+?100) (|. -: rot) (?30 2 1 1 1$#x){x=.;:'Cogit, ergo $212 341 CBC News'
(_50+?100) (|. -: rot) (?255 1$#x){x
(_50+?100) (|. -: rot) (?0 0$#x){x
(_50+?100) (|. -: rot) <i.2 3
(_50+?100) (|. -: rot) ,<i.2 3
