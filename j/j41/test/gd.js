D =. D. 1
E =. '(x.,'' y.'') : ($0) D':1

t=.i.0 0
t=.t, '". ''(f=.('',y.,'')D)2'' '
t=.t, 'g=.y.E'
t=.t, 'h=.$@f -: $@g'
t=.t, 'b=.$0'
t=.t, 'b=.b,1e_4>|(f-g)2+0.01*?50'
t=.t, 'b=.b,h 0.01*?    4$500'
t=.t, 'b=.b,h 0.01*?  3 2$500'
t=.t, 'b=.b,h 0.01*?2 3 1$500'
test =. t : ''

test '<:'
test '>:'
test '+:'
test '*:'
test '- '
test '-.'
test '% '
test '%:'
test '^ '
test '^.'
test '['
test ']'
test 'j.'
test 'o.'
test 'r.'

test '3&+'
test '+&3'
test '3&*'
test '*&3'
test '3&-'
test '-&3'
test '3&%'
test '%&3'
test '1.2&^'
test '^&3'
test '3&^.'
test '^.&3'
test '1&o.'
test '2&o.'
test '3&o.'
test '5&o.'
test '6&o.'
test '7&o.'

test '0:'
test '1:'
test '2:'
test '3:'
test '4:'
test '5:'
test '6:'
test '7:'
test '8:'
test '9:'
test '12"_'
test '_17"_'
test '*:"1'
test '4&%"1'
test '^&1.7"2'

test '*:@>:'
test '<:@+:'
test '^.@+: '
test '*:@(1&o.)'

test '(*:   + ] )    '
test '([    * ^ )    '
test '(2&o. - %:)    '
test '(-:   % ^.)    '
test '(*: + +: + 1"0)'
test '(*: % +: + 1"0)'
test '(*:@>: * 2&*)  '
