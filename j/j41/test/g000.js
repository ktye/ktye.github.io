NB. Copyright (c) 1989 1990, Roger K.W. Hui & K.E. Iverson
NB. Copyright (c) 1990-1992, Iverson Software Inc.
NB. All Rights Reserved.


NB. =y ------------------------------------------------------------------

box =. '' : '<!.x. y.'

(,.1) -: =1
(,.1) -: ='a'
(,.1) -: =3
(,.1) -: =4.5
(,.1) -: =3j4
(,.1) -: =<'abc'
(,.1) -: =3 4 box 'asdf'

(i.0 0) -: =0 4 5$1
(i.0 0) -: =''
(i.0 0) -: =i.0
(i.0 0) -: =o.i.0
(i.0 0) -: =0 4 5 6 7 0$<''
(i.0 0) -: =0$'shdrlu' box 7

(1 5$1) -: =5$1
(1 5$1) -: =5$'a'
(1 5$1) -: =5$12345
(1 5$1) -: =5$3.14159
(1 5$1) -: =5$3j4
(1 5$1) -: =5$<'abc'
(1 5$1) -: =5$'Cogito' box 'ergo sum.'

((n,n)$1,n$0)-:=i.n=.?25

type =. 3!:0
test =. '(1=type b) *. (($b)-:(#~.y.),#y.) *. (+/,b)=#y. [ b=.=y.' : ''

test ?2
test a.{~?2$3
test ?4023
test o.?4023
test j./?2$3
test (;:'foo upon thee'){~?3
test (2 3 4 box"0?3$1000){~?3

test ?40 3$2
test a.{~50+?40 2$3
test ?40 2$3
test o.?40 2$3
test j./?2 82 2$3
test (;:'foo upon thee'){~?40 2$3
test (2 3 4 box"0?3$1000){~?40 2$3

(,:1 1) -: =}:(<'abc'),0 1 box"0 1 'abc'


NB. x=y -----------------------------------------------------------------

box =. '' : '<!.x. y.'

NB. Boolean
1 0 0 1 -: 0 0 1 1=0 1 0 1

NB. literal
(($t)$1) -: t = t=.a.{~?2 3 4$#a.
(($t)$0) -: (?($t)$2)          = t=.a.{~?2 3 4$#a.
(($t)$0) -: (_5e8+?($t)$1e9)   = t=.a.{~?2 3 4$#a.
(($t)$0) -: (o._5e8+?($t)$1e9) = t=.a.{~?2 3 4$#a.
(($t)$0) -: (r._5e8+?($t)$1e9) = t=.a.{~?2 3 4$#a.
(($t)$0) -: (($t)$;:'8-+.abc') = t=.a.{~?2 3 4$#a.
(($t)$0) -: (4 5 box"0?2 3 4$9)= t=.a.{~?2 3 4$#a.

NB. integer
(($t)$1) -: t = t=._1e9+?2 3 4$2e9
(a=b)-:0=a-b     [ a=._5+?200$10         [ b=._5+?200$10
(a=b)-:a=b{0 1 2 [ a=.(?100$2){0 1 2     [ b=.?100$2
(a=b)-:a=}.3.4,b [ a=.?200$10            [ b=.?200$10

NB. real
(($t)$1) -: t = t=.o._1e9+?2 3 4$2e9
(a=b)-:0=a-b     [ a=.o._5+?200$10       [ b=.o._5+?200$10
(a=b)-:a=}.3.4,b [ a=.}.3.4,?100$2       [ b=.?100$2
(a=b)-:a=}.3.4,b [ a=.}.3.4,_5+?200$10   [ b=._5+?200$10
(a=b)-:a=}.3j4,b [ a=.o._5+?200$10       [ b=.o._5+?200$10

NB. complex
(($t)$1) -: t = t=.j./_1e9+?2 3 4$2e9
(a=b)-:0=a-b     [ a=.r._5+?200$10       [ b=.r._5+?200$10
(a=b)-:a=}.3j4,b [ a=.}.3j4,?100$2       [ b=.?100$2
(a=b)-:a=}.3j4,b [ a=.}.3j4,_5+?200$10   [ b=._5+?200$10
(a=b)-:a=}.3j4,b [ a=.}.3j4,o._5+?200$10 [ b=.o._5+?200$10

NB. boxed
(($t)$1) -: t = t=.<"1?2 3 4 5$10
(($t)$1) -: (}.(3 box 4),t) = t=.<"1?2 3 4$10
(($t)$0) -: (?($t)$2)          = t=.<"1?2 3 4$10
(($t)$0) -: (($t)$'8-+.abc')   = t=.<"1?2 3 4$10
(($t)$0) -: (_5e8+?($t)$1e9)   = t=.<"1?2 3 4$10
(($t)$0) -: (o._5e8+?($t)$1e9) = t=.<"1?2 3 4$10
(($t)$0) -: (r._5e8+?($t)$1e9) = t=.<"1?2 3 4$10
(($t)$0) -: ((1+?($t)$10) box"0 1>t) = t=.<"1?2 3 4$10

NB. box with key
(($t)$1) -: t = t=.(?2 3 4$100) box 0 1?2 3 4 5$10
(($t)$0) -: (?($t)$2)          = t=.(>:?2 3$10) box"0 1?2 3 4$10
(($t)$0) -: (($t)$'8-+.abc')   = t=.(>:?2 3$10) box"0 1?2 3 4$10
(($t)$0) -: (_5e8+?($t)$1e9)   = t=.(>:?2 3$10) box"0 1?2 3 4$10
(($t)$0) -: (o._5e8+?($t)$1e9) = t=.(>:?2 3$10) box"0 1?2 3 4$10
(($t)$0) -: (r._5e8+?($t)$1e9) = t=.(>:?2 3$10) box"0 1?2 3 4$10
(($t)$0) -: (<"1>t)            = t=.(>:?2 3$10) box"0 1?2 3 4$10
