<!doctype html>
<html><head><meta charset=utf-8><title>86</title>
<link rel="icon" type="image/png" sizes="16x16" href="../kelas16.png">
<style>
*{box-sizing:border-box;/*overflow:clip;*/font-family:monospace}
html{height:100vh}
body{display:flex;flex-direction:column;}
button{padding:0}
#tty{width:80ch;height:22rem;line-height:1.1rem;background:black;color:#ccc;margin:0}
#tty:focus-within{color:white}
#rdl{color:white;outline:none}
#editor{background:#ffe;outline:none;border:1px solid black;width:80ch;height:20rem;overflow:scroll;resize:none;margin-block:1em;margin-bottom:0}
#disa:focus{outline:1px solid}
#regs:focus{outline:1px solid}
#heap:focus{outline:1px solid}
.b{background:#444;color:white}
.p{border:1px solid}
.p:hover{cursor:pointer}
.l{color:blue}
.l:hover{cursor:pointer}
</style></head><body>

<div style="display:flex;flex-wrap:wrap;gap:1em">
 <textarea id="editor" rows="20" cols="80" hidden></textarea>
 <pre id="tty"><span id="out" tabindex="-1">linux/x86-64 [read write open close lseek brk exit] 1core 1proc 2g</span><span id="rdl" contenteditable="plaintext-only" spellcheck=false tabindex="0"></span><span id="prm"></span></pre>
 <div style="display:flex;flex-flow:column;justify-content:space-between">
  <pre id="disk">$ls</pre>
  <div id="kdbut" ><button onclick="execv(['fasm'])">fasm</button> <button>step</button></div>
  <div id="edbut" hidden>
   <button onclick="edshow(0)">close</button>
   <button onclick="edwrite()" id="edbutw">write</button>
   <button onclick="download()">download</button>
   <span id="filename">filename</span>
   <a id="dl" hidden></a>
  </div>
 </div>
</div>
<div style="display:flex;flex-wrap:wrap;justify-content:space-between">
 <pre id="disa" hidden tabindex="-1"></pre>
 <div style="display:flex;flex-flow:column">
  <pre id="regs" tabindex="-1">
 rax rsp r8 r12   rcx rbp r9 r13   rdx rsi r10 r14  rbx rdi r11 r15
 <span id="reg0" >0000000000000000</span> <span id="reg1" >0000000000000000</span> <span id="reg2" >0000000000000000</span> <span id="reg3" >0000000000000000</span>
┌<span id="reg4" >0000000000000000</span> <span id="reg5" >0000000000000000</span> <span id="reg6" >0000000000000000</span> <span id="reg7" >0000000000000000</span>
│<span id="reg8" >0000000000000000</span> <span id="reg9" >0000000000000000</span> <span id="reg10">0000000000000000</span> <span id="reg11">0000000000000000</span>
│<span id="reg12">0000000000000000</span> <span id="reg13">0000000000000000</span> <span id="reg14">0000000000000000</span> <span id="reg15">0000000000000000</span>
│
│xmm0 4 8 12      xmm1 5 9 13      xmm2 6 10 14     xmm3 7 11 15
│<span id="reg16">0000000000000000</span> <span id="reg17">0000000000000000</span> <span id="reg18">0000000000000000</span> <span id="reg19">0000000000000000</span>
│<span id="reg20">0000000000000000</span> <span id="reg21">0000000000000000</span> <span id="reg22">0000000000000000</span> <span id="reg23">0000000000000000</span>
│<span id="reg24">0000000000000000</span> <span id="reg25">0000000000000000</span> <span id="reg26">0000000000000000</span> <span id="reg27">0000000000000000</span>
│<span id="reg28">0000000000000000</span> <span id="reg29">0000000000000000</span> <span id="reg30">0000000000000000</span> <span id="reg31">0000000000000000</span>
│
│
│stack
<span id="stk0"> 0000000000000000 0000000000000000</span>              rip <span id="reg32">0000000000000000</span>
<span id="stk1"> 0000000000000000 0000000000000000</span>              brk <span id="brk">0000000000000000</span>
<span id="stk2"> 0000000000000000 0000000000000000</span>           rlfags <span id="rflags">0000000000000000</span>
<span id="stk3"> 0000000000000000 0000000000000000</span>
<span id="stk4"> 0000000000000000 0000000000000000</span>
<span id="stk5"> 0000000000000000 0000000000000000</span>
<span id="stk6"> 0000000000000000 0000000000000000</span>
<span id="stk7"> 0000000000000000 0000000000000000</span>
<span id="stk8"> 0000000000000000 0000000000000000</span>
<span id="stk9"> 0000000000000000 0000000000000000</span>
<span id="stk10"> 0000000000000000 0000000000000000</span>
<span id="stk11"> 0000000000000000 0000000000000000</span>
<span id="stk12"> 0000000000000000 0000000000000000</span>
<span id="stk13"> 0000000000000000 0000000000000000</span>
<span id="stk14"> 0000000000000000 0000000000000000</span>
<span id="stk15"> 0000000000000000 0000000000000000</span>
  </pre>
 </div>
 <pre id="heap" tabindex="-1">heap
00000000 0000000000000000 0000000000000000 ........ ........
 </pre>
</div>
<div style="display:flex;justify-content:space-between">
 <span class="p" onclick="pager.scroll(0)"><span class="b">&nbsp;↑↓&nbsp;</span> sroll&nbsp;</span>
 <span class="p" onclick="disa.stepover()"><span class="b">&nbsp;s&nbsp;</span> step over&nbsp;</span>
 <span class="p" onclick="disa.traceinto()"><span class="b">&nbsp;→&nbsp;</span> trace into&nbsp;</span>
 <span class="p" onclick="disa.ret()"><span class="b">&nbsp;←&nbsp;</span> run to ret&nbsp;</span>
 <span class="p" onclick="disa.break()"><span class="b">&nbsp;b&nbsp;</span> breakpoint&nbsp;</span>
 <span class="p" onclick="disa.runto()"><span class="b">&nbsp;↵&nbsp;</span> run to break&nbsp;</span>
 <span class="p" onclick="pager.find()"><span class="b">&nbsp;/&nbsp;</span> find&nbsp;</span>
</div>
<script>
let af=x=>Array.from(x),pd=e=>{e.preventDefault();e.stopPropagation()},ce=x=>document.createElement(x),ge=x=>document.getElementById(x),tc=(t,x)=>(x.textContent=t,x)
let su=x=>t_.decode(x),t_=new TextDecoder("utf-8"),us=x=>_t.encode(x),_t=new TextEncoder("utf-8")
let min=Math.min,max=Math.max
</script>
<script src="k.js"></script>
<script src="fs.js"></script>
<script src="ed.js"></script>
<script src="86.js"></script>
<script src="sh.js"></script>
<script>sh()</script>
<script>
 fe("fasm.elf","fasm")
 fe("readme","readme")
 
 let pager=disa;disa.onfocus=_=>pager=disa;regs.onfocus=_=>pager=regs;heap.onfocus=_=>pager=heap;
 disa.onkeydown=(e,k)=>(k=e.key,"ArrowUp"==k?disa.move(1):"ArrowDown"==k?disa.move(0):"PageUp"==k?disa.scroll(1):"PageDown"==k?disa.scroll(0):"ArrowLeft"==k?disa.ret():"ArrowRight"==k?disa.traceinto():"s"==k?disa.stepover():"b"==k?disa.break():"Enter"==k?disa.runto():"/"==k?disa.find():0)
 disa.scroll=up=>console.log("disa scroll "+(up?"up":"down"))
 disa.move=up=>console.log("disa move "+(up?"up":"down"))
 disa.ret=_=>console.log("disa ret")
 disa.traceinto=_=>console.log("disa trace into")
 disa.stepover=_=>console.log("disa step over")
 disa.break=_=>console.log("disa break")
 disa.runto=_=>console.log("disa run to break")
 disa.find=_=>console.log("disa find")
</script>
</body>





